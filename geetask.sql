-- --------------------------------------------------------
-- 主机:                           127.0.0.1
-- 服务器版本:                        10.1.19-MariaDB - mariadb.org binary distribution
-- 服务器操作系统:                      Win32
-- HeidiSQL 版本:                  9.5.0.5338
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


-- 导出 geetask 的数据库结构
CREATE DATABASE IF NOT EXISTS `geetask` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE `geetask`;

-- 导出  表 geetask.auth_assignment 结构
CREATE TABLE IF NOT EXISTS `auth_assignment` (
  `item_name` varchar(64) NOT NULL,
  `user_id` varchar(64) NOT NULL,
  `created_at` int(11) DEFAULT NULL,
  PRIMARY KEY (`item_name`,`user_id`),
  KEY `auth_assignment_user_id_idx` (`user_id`),
  CONSTRAINT `auth_assignment_ibfk_1` FOREIGN KEY (`item_name`) REFERENCES `auth_item` (`name`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 正在导出表  geetask.auth_assignment 的数据：~0 rows (大约)
/*!40000 ALTER TABLE `auth_assignment` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_assignment` ENABLE KEYS */;

-- 导出  表 geetask.auth_item 结构
CREATE TABLE IF NOT EXISTS `auth_item` (
  `name` varchar(64) NOT NULL,
  `type` smallint(6) NOT NULL,
  `description` text,
  `rule_name` varchar(64) DEFAULT NULL,
  `data` blob,
  `created_at` int(11) DEFAULT NULL,
  `updated_at` int(11) DEFAULT NULL,
  PRIMARY KEY (`name`),
  KEY `rule_name` (`rule_name`),
  KEY `idx-auth_item-type` (`type`),
  CONSTRAINT `auth_item_ibfk_1` FOREIGN KEY (`rule_name`) REFERENCES `auth_rule` (`name`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 正在导出表  geetask.auth_item 的数据：~199 rows (大约)
/*!40000 ALTER TABLE `auth_item` DISABLE KEYS */;
INSERT INTO `auth_item` (`name`, `type`, `description`, `rule_name`, `data`, `created_at`, `updated_at`) VALUES
	('/ac-route/create', 4, 'ac route create', NULL, NULL, 1543224292, 1543224292),
	('/ac-route/index', 4, 'ac route index', NULL, NULL, 1543224289, 1543224289),
	('/ac-route/view', 4, 'ac route view', NULL, NULL, 1543224304, 1543224304),
	('/aliyun-log/default/setting', 4, 'aliyun log default setting', NULL, NULL, 1543812158, 1543812158),
	('/app-module/index', 4, 'app module index', NULL, NULL, 1543222003, 1543222003),
	('/auth-permission/create', 4, 'auth permission create', NULL, NULL, 1543225416, 1543225416),
	('/auth-permission/index', 4, 'auth permission index', NULL, NULL, 1543225066, 1543225066),
	('/auth-permission/update', 4, 'auth permission update', NULL, NULL, 1543310118, 1543310118),
	('/auth-role/create', 4, 'auth role create', NULL, NULL, 1543387986, 1543387986),
	('/auth-role/index', 4, 'auth role index', NULL, NULL, 1543225064, 1543225064),
	('/auth-role/permission', 4, 'auth role permission', NULL, NULL, 1543570277, 1543570277),
	('/auth-role/update', 4, 'auth role update', NULL, NULL, 1543288315, 1543288315),
	('/auth-rule/create', 4, 'auth rule create', NULL, NULL, 1543225072, 1543225072),
	('/auth-rule/index', 4, 'auth rule index', NULL, NULL, 1543225069, 1543225069),
	('/auth-rule/update', 4, 'auth rule update', NULL, NULL, 1543309941, 1543309941),
	('/auth-rule/view', 4, 'auth rule view', NULL, NULL, 1543309946, 1543309946),
	('/backlog/acceptance/create', 4, 'backlog acceptance create', NULL, NULL, 1543457417, 1543457417),
	('/backlog/acceptance/index', 4, 'backlog acceptance index', NULL, NULL, 1543457223, 1543457223),
	('/backlog/default/create', 4, 'backlog default create', NULL, NULL, 1543397576, 1543397576),
	('/backlog/default/index', 4, 'backlog default index', NULL, NULL, 1543397160, 1543397160),
	('/change/default/create', 4, 'change default create', NULL, NULL, 1543389913, 1543389913),
	('/change/default/index', 4, 'change default index', NULL, NULL, 1543388974, 1543388974),
	('/event-handler/create', 4, 'event handler create', NULL, NULL, 1543392895, 1543392895),
	('/event-handler/index', 4, 'event handler index', NULL, NULL, 1543392890, 1543392890),
	('/event-handler/update', 4, 'event handler update', NULL, NULL, 1543549693, 1543549693),
	('/event/create', 4, 'event create', NULL, NULL, 1543370011, 1543370011),
	('/event/index', 4, 'event index', NULL, NULL, 1543370008, 1543370008),
	('/event/update', 4, 'event update', NULL, NULL, 1543548211, 1543548211),
	('/im-robot/create', 4, 'im robot create', NULL, NULL, 1543400043, 1543400043),
	('/im-robot/index', 4, 'im robot index', NULL, NULL, 1543392062, 1543392062),
	('/im-robot/update', 4, 'im robot update', NULL, NULL, 1543462272, 1543462272),
	('/meet/default/create', 4, 'meet default create', NULL, NULL, 1543388471, 1543388471),
	('/meet/default/delete', 4, 'meet default delete', NULL, NULL, 1543562135, 1543562135),
	('/meet/default/index', 4, 'meet default index', NULL, NULL, 1543388350, 1543388350),
	('/meet/default/update', 4, 'meet default update', NULL, NULL, 1543567793, 1543567793),
	('/meet/default/view', 4, 'meet default view', NULL, NULL, 1543561947, 1543561947),
	('/member/default/create', 4, 'member default create', NULL, NULL, 1543387712, 1543387712),
	('/member/default/delete', 4, 'member default delete', NULL, NULL, 1543569831, 1543569831),
	('/member/default/index', 4, 'member default index', NULL, NULL, 1543387160, 1543387160),
	('/member/default/update', 4, 'member default update', NULL, NULL, 1543399855, 1543399855),
	('/member/default/view', 4, 'member default view', NULL, NULL, 1543563100, 1543563100),
	('/myproject/default/create', 4, 'myproject default create', NULL, NULL, 1543455548, 1543455548),
	('/myproject/default/index', 4, 'myproject default index', NULL, NULL, 1543455189, 1543455189),
	('/plan/default/index', 4, 'plan default index', NULL, NULL, 1543237893, 1543237893),
	('/project/create', 4, 'project create', NULL, NULL, 1543239722, 1543239722),
	('/project/index', 4, 'project index', NULL, NULL, 1543239549, 1543239549),
	('/project/space', 4, 'project space', NULL, NULL, 1543371051, 1543371051),
	('/project/update', 4, 'project update', NULL, NULL, 1543310102, 1543310102),
	('/project/view', 4, 'project view', NULL, NULL, 1543310095, 1543310095),
	('/robot-message/create', 4, 'robot message create', NULL, NULL, 1543975504, 1543975504),
	('/robot-message/index', 4, 'robot message index', NULL, NULL, 1543392356, 1543392356),
	('/robot-message/update', 4, 'robot message update', NULL, NULL, 1543976189, 1543976189),
	('/robot-message/view', 4, 'robot message view', NULL, NULL, 1543976876, 1543976876),
	('/robot/default/create', 4, 'robot default create', NULL, NULL, 1543391518, 1543391518),
	('/robot/default/index', 4, 'robot default index', NULL, NULL, 1543391351, 1543391351),
	('/robot/default/update', 4, 'robot default update', NULL, NULL, 1543462308, 1543462308),
	('/role/create', 4, 'role create', NULL, NULL, 1543288176, 1543288176),
	('/role/index', 4, 'role index', NULL, NULL, 1543288172, 1543288172),
	('/role/permission', 4, 'role permission', NULL, NULL, 1543288992, 1543288992),
	('/role/update', 4, 'role update', NULL, NULL, 1543288233, 1543288233),
	('/site/index', 4, 'site index', NULL, NULL, 1543207656, 1543207656),
	('/space/default/create', 4, 'space default create', NULL, NULL, 1543377197, 1543377197),
	('/space/default/index', 4, 'space default index', NULL, NULL, 1543375474, 1543375474),
	('/space/default/update', 4, 'space default update', NULL, NULL, 1543477938, 1543477938),
	('/sprint/default/create', 4, 'sprint default create', NULL, NULL, 1543242482, 1543242482),
	('/sprint/default/delete', 4, 'sprint default delete', NULL, NULL, 1543459132, 1543459132),
	('/sprint/default/index', 4, 'sprint default index', NULL, NULL, 1543242478, 1543242478),
	('/sprint/default/update', 4, 'sprint default update', NULL, NULL, 1543415054, 1543415054),
	('/sprint/default/view', 4, 'sprint default view', NULL, NULL, 1543458272, 1543458272),
	('/sprint/story-active/create', 4, 'sprint story active create', NULL, NULL, 1543416108, 1543416108),
	('/sprint/story/create', 4, 'sprint story create', NULL, NULL, 1543399496, 1543399496),
	('/sprint/story/index', 4, 'sprint story index', NULL, NULL, 1543398611, 1543398611),
	('/sprint/story/update', 4, 'sprint story update', NULL, NULL, 1543462511, 1543462511),
	('/sprint/story/view', 4, 'sprint story view', NULL, NULL, 1543415664, 1543415664),
	('/story-status/create', 4, 'story status create', NULL, NULL, 1543394955, 1543394955),
	('/story-status/index', 4, 'story status index', NULL, NULL, 1543394875, 1543394875),
	('/switch-project/index', 4, 'switch project index', NULL, NULL, 1543370113, 1543370113),
	('/user/create', 4, 'user create', NULL, NULL, 1543208720, 1543208720),
	('/user/index', 4, 'user index', NULL, NULL, 1543207762, 1543207762),
	('/user/role', 4, 'user role', NULL, NULL, 1543207775, 1543207775),
	('/user/update', 4, 'user update', NULL, NULL, 1543207796, 1543207796),
	('/user/view', 4, 'user view', NULL, NULL, 1543209419, 1543209419),
	('ac-route', 3, 'ac route', NULL, NULL, 1543224289, 1543224289),
	('ac-route-create', 2, 'ac route create', NULL, NULL, 1543224292, 1543224292),
	('ac-route-index', 2, 'ac route index', NULL, NULL, 1543224289, 1543224289),
	('ac-route-view', 2, 'ac route view', NULL, NULL, 1543224304, 1543224304),
	('aliyun-log-default', 3, 'aliyun log default', NULL, NULL, 1543812156, 1543812156),
	('aliyun-log-default-setting', 2, 'aliyun log default setting', NULL, NULL, 1543812158, 1543812158),
	('aliyun-log-store', 3, 'aliyun log store', NULL, NULL, 1543813263, 1543813263),
	('app-module', 3, 'app module', NULL, NULL, 1543222002, 1543222002),
	('app-module-index', 2, 'app module index', NULL, NULL, 1543222003, 1543222003),
	('auth-permission', 3, 'auth permission', NULL, NULL, 1543225066, 1543225066),
	('auth-permission-create', 2, 'auth permission create', NULL, NULL, 1543225416, 1543225416),
	('auth-permission-index', 2, 'auth permission index', NULL, NULL, 1543225066, 1543225066),
	('auth-permission-update', 2, 'auth permission update', NULL, NULL, 1543310118, 1543310118),
	('auth-role', 3, 'auth role', NULL, NULL, 1543225064, 1543225064),
	('auth-role-create', 2, 'auth role create', NULL, NULL, 1543387986, 1543387986),
	('auth-role-index', 2, 'auth role index', NULL, NULL, 1543225064, 1543225064),
	('auth-role-permission', 2, 'auth role permission', NULL, NULL, 1543570277, 1543570277),
	('auth-role-update', 2, 'auth role update', NULL, NULL, 1543288315, 1543288315),
	('auth-rule', 3, 'auth rule', NULL, NULL, 1543225069, 1543225069),
	('auth-rule-create', 2, 'auth rule create', NULL, NULL, 1543225072, 1543225072),
	('auth-rule-index', 2, 'auth rule index', NULL, NULL, 1543225069, 1543225069),
	('auth-rule-update', 2, 'auth rule update', NULL, NULL, 1543309942, 1543309942),
	('auth-rule-view', 2, 'auth rule view', NULL, NULL, 1543309946, 1543309946),
	('backlog-acceptance', 3, 'backlog acceptance', NULL, NULL, 1543457223, 1543457223),
	('backlog-acceptance-create', 2, 'backlog acceptance create', NULL, NULL, 1543457417, 1543457417),
	('backlog-acceptance-index', 2, 'backlog acceptance index', NULL, NULL, 1543457223, 1543457223),
	('backlog-default', 3, 'backlog default', NULL, NULL, 1543397160, 1543397160),
	('backlog-default-create', 2, 'backlog default create', NULL, NULL, 1543397576, 1543397576),
	('backlog-default-index', 2, 'backlog default index', NULL, NULL, 1543397160, 1543397160),
	('change-default', 3, 'change default', NULL, NULL, 1543388974, 1543388974),
	('change-default-create', 2, 'change default create', NULL, NULL, 1543389914, 1543389914),
	('change-default-index', 2, 'change default index', NULL, NULL, 1543388974, 1543388974),
	('event', 3, 'event', NULL, NULL, 1543370008, 1543370008),
	('event-create', 2, 'event create', NULL, NULL, 1543370011, 1543370011),
	('event-handler', 3, 'event handler', NULL, NULL, 1543392890, 1543392890),
	('event-handler-create', 2, 'event handler create', NULL, NULL, 1543392895, 1543392895),
	('event-handler-index', 2, 'event handler index', NULL, NULL, 1543392890, 1543392890),
	('event-handler-update', 2, 'event handler update', NULL, NULL, 1543549693, 1543549693),
	('event-index', 2, 'event index', NULL, NULL, 1543370008, 1543370008),
	('event-update', 2, 'event update', NULL, NULL, 1543548211, 1543548211),
	('im-robot', 3, 'im robot', NULL, NULL, 1543392062, 1543392062),
	('im-robot-create', 2, 'im robot create', NULL, NULL, 1543400044, 1543400044),
	('im-robot-index', 2, 'im robot index', NULL, NULL, 1543392062, 1543392062),
	('im-robot-update', 2, 'im robot update', NULL, NULL, 1543462272, 1543462272),
	('meet-default', 3, 'meet default', NULL, NULL, 1543388350, 1543388350),
	('meet-default-create', 2, 'meet default create', NULL, NULL, 1543388471, 1543388471),
	('meet-default-delete', 2, 'meet default delete', NULL, NULL, 1543562135, 1543562135),
	('meet-default-index', 2, 'meet default index', NULL, NULL, 1543388350, 1543388350),
	('meet-default-update', 2, 'meet default update', NULL, NULL, 1543567793, 1543567793),
	('meet-default-view', 2, 'meet default view', NULL, NULL, 1543561947, 1543561947),
	('member-default', 3, 'member default', NULL, NULL, 1543387160, 1543387160),
	('member-default-create', 2, 'member default create', NULL, NULL, 1543387712, 1543387712),
	('member-default-delete', 2, 'member default delete', NULL, NULL, 1543569831, 1543569831),
	('member-default-index', 2, 'member default index', NULL, NULL, 1543387160, 1543387160),
	('member-default-update', 2, 'member default update', NULL, NULL, 1543399855, 1543399855),
	('member-default-view', 2, 'member default view', NULL, NULL, 1543563100, 1543563100),
	('myproject-default', 3, 'myproject default', NULL, NULL, 1543455189, 1543455189),
	('myproject-default-create', 2, 'myproject default create', NULL, NULL, 1543455548, 1543455548),
	('myproject-default-index', 2, 'myproject default index', NULL, NULL, 1543455189, 1543455189),
	('plan-default', 3, 'plan default', NULL, NULL, 1543237893, 1543237893),
	('plan-default-index', 2, 'plan default index', NULL, NULL, 1543237893, 1543237893),
	('project', 3, 'project', NULL, NULL, 1543239549, 1543239549),
	('project-create', 2, 'project create', NULL, NULL, 1543239722, 1543239722),
	('project-index', 2, 'project index', NULL, NULL, 1543239549, 1543239549),
	('project-space', 2, 'project space', NULL, NULL, 1543371051, 1543371051),
	('project-update', 2, 'project update', NULL, NULL, 1543310102, 1543310102),
	('project-view', 2, 'project view', NULL, NULL, 1543310095, 1543310095),
	('robot-default', 3, 'robot default', NULL, NULL, 1543391351, 1543391351),
	('robot-default-create', 2, 'robot default create', NULL, NULL, 1543391518, 1543391518),
	('robot-default-index', 2, 'robot default index', NULL, NULL, 1543391351, 1543391351),
	('robot-default-update', 2, 'robot default update', NULL, NULL, 1543462308, 1543462308),
	('robot-message', 3, 'robot message', NULL, NULL, 1543392356, 1543392356),
	('robot-message-create', 2, 'robot message create', NULL, NULL, 1543975504, 1543975504),
	('robot-message-index', 2, 'robot message index', NULL, NULL, 1543392356, 1543392356),
	('robot-message-update', 2, 'robot message update', NULL, NULL, 1543976189, 1543976189),
	('robot-message-view', 2, 'robot message view', NULL, NULL, 1543976876, 1543976876),
	('role', 3, 'role', NULL, NULL, 1543288172, 1543288172),
	('role-create', 2, 'role create', NULL, NULL, 1543288176, 1543288176),
	('role-index', 2, 'role index', NULL, NULL, 1543288172, 1543288172),
	('role-permission', 2, 'role permission', NULL, NULL, 1543288992, 1543288992),
	('role-update', 2, 'role update', NULL, NULL, 1543288233, 1543288233),
	('site', 3, 'site', NULL, NULL, 1543207654, 1543207654),
	('site-index', 2, 'site index', NULL, NULL, 1543207656, 1543207656),
	('space-default', 3, 'space default', NULL, NULL, 1543375474, 1543375474),
	('space-default-create', 2, 'space default create', NULL, NULL, 1543377197, 1543377197),
	('space-default-index', 2, 'space default index', NULL, NULL, 1543375474, 1543375474),
	('space-default-update', 2, 'space default update', NULL, NULL, 1543477938, 1543477938),
	('sprint-default', 3, 'sprint default', NULL, NULL, 1543242478, 1543242478),
	('sprint-default-create', 2, 'sprint default create', NULL, NULL, 1543242482, 1543242482),
	('sprint-default-delete', 2, 'sprint default delete', NULL, NULL, 1543459132, 1543459132),
	('sprint-default-index', 2, 'sprint default index', NULL, NULL, 1543242478, 1543242478),
	('sprint-default-update', 2, 'sprint default update', NULL, NULL, 1543415054, 1543415054),
	('sprint-default-view', 2, 'sprint default view', NULL, NULL, 1543458272, 1543458272),
	('sprint-story', 3, 'sprint story', NULL, NULL, 1543398611, 1543398611),
	('sprint-story-active', 3, 'sprint story active', NULL, NULL, 1543416108, 1543416108),
	('sprint-story-active-create', 2, 'sprint story active create', NULL, NULL, 1543416108, 1543416108),
	('sprint-story-create', 2, 'sprint story create', NULL, NULL, 1543399496, 1543399496),
	('sprint-story-index', 2, 'sprint story index', NULL, NULL, 1543398611, 1543398611),
	('sprint-story-update', 2, 'sprint story update', NULL, NULL, 1543462511, 1543462511),
	('sprint-story-view', 2, 'sprint story view', NULL, NULL, 1543415664, 1543415664),
	('story-status', 3, 'story status', NULL, NULL, 1543394875, 1543394875),
	('story-status-create', 2, 'story status create', NULL, NULL, 1543394956, 1543394956),
	('story-status-index', 2, 'story status index', NULL, NULL, 1543394875, 1543394875),
	('switch-project', 3, 'switch project', NULL, NULL, 1543370113, 1543370113),
	('switch-project-index', 2, 'switch project index', NULL, NULL, 1543370113, 1543370113),
	('update-my-project', 2, '更新自己的项目', '\\app\\rules\\IsMyProject', NULL, 1543312748, 1543312748),
	('user', 3, 'user', NULL, NULL, 1543207753, 1543207753),
	('user-create', 2, 'user create', NULL, NULL, 1543208720, 1543208720),
	('user-index', 2, 'user index', NULL, NULL, 1543207762, 1543207762),
	('user-role', 2, 'user role', NULL, NULL, 1543207775, 1543207775),
	('user-update', 2, 'user update', NULL, NULL, 1543207796, 1543207796),
	('user-view', 2, 'user view', NULL, NULL, 1543209419, 1543209419),
	('开发人员', 1, NULL, NULL, NULL, 1543562615, 1543562615),
	('敏捷教练', 1, NULL, NULL, NULL, 1543562548, 1543562548),
	('管理员1', 1, '', NULL, NULL, 1543288187, 1543288472),
	('部门负责人', 1, 'deparment charge', NULL, NULL, 1543218870, 1543218975),
	('项目负责人', 1, NULL, NULL, NULL, 1543388020, 1543388020);
/*!40000 ALTER TABLE `auth_item` ENABLE KEYS */;

-- 导出  表 geetask.auth_item_child 结构
CREATE TABLE IF NOT EXISTS `auth_item_child` (
  `parent` varchar(64) NOT NULL,
  `child` varchar(64) NOT NULL,
  PRIMARY KEY (`parent`,`child`),
  KEY `child` (`child`),
  CONSTRAINT `auth_item_child_ibfk_1` FOREIGN KEY (`parent`) REFERENCES `auth_item` (`name`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `auth_item_child_ibfk_2` FOREIGN KEY (`child`) REFERENCES `auth_item` (`name`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 正在导出表  geetask.auth_item_child 的数据：~333 rows (大约)
/*!40000 ALTER TABLE `auth_item_child` DISABLE KEYS */;
INSERT INTO `auth_item_child` (`parent`, `child`) VALUES
	('ac-route', '/ac-route/create'),
	('ac-route', '/ac-route/index'),
	('ac-route', '/ac-route/view'),
	('ac-route', 'ac-route-create'),
	('ac-route', 'ac-route-index'),
	('ac-route', 'ac-route-view'),
	('ac-route-create', '/ac-route/create'),
	('ac-route-index', '/ac-route/index'),
	('ac-route-view', '/ac-route/view'),
	('aliyun-log-default', '/aliyun-log/default/setting'),
	('aliyun-log-default', 'aliyun-log-default-setting'),
	('aliyun-log-default-setting', '/aliyun-log/default/setting'),
	('app-module', '/app-module/index'),
	('app-module', 'app-module-index'),
	('app-module-index', '/app-module/index'),
	('auth-permission', '/auth-permission/create'),
	('auth-permission', '/auth-permission/index'),
	('auth-permission', '/auth-permission/update'),
	('auth-permission', 'auth-permission-create'),
	('auth-permission', 'auth-permission-index'),
	('auth-permission', 'auth-permission-update'),
	('auth-permission-create', '/auth-permission/create'),
	('auth-permission-index', '/auth-permission/index'),
	('auth-permission-update', '/auth-permission/update'),
	('auth-role', '/auth-role/create'),
	('auth-role', '/auth-role/index'),
	('auth-role', '/auth-role/permission'),
	('auth-role', '/auth-role/update'),
	('auth-role', 'auth-role-create'),
	('auth-role', 'auth-role-index'),
	('auth-role', 'auth-role-permission'),
	('auth-role', 'auth-role-update'),
	('auth-role-create', '/auth-role/create'),
	('auth-role-index', '/auth-role/index'),
	('auth-role-permission', '/auth-role/permission'),
	('auth-role-update', '/auth-role/update'),
	('auth-rule', '/auth-rule/create'),
	('auth-rule', '/auth-rule/index'),
	('auth-rule', '/auth-rule/update'),
	('auth-rule', '/auth-rule/view'),
	('auth-rule', 'auth-rule-create'),
	('auth-rule', 'auth-rule-index'),
	('auth-rule', 'auth-rule-update'),
	('auth-rule', 'auth-rule-view'),
	('auth-rule-create', '/auth-rule/create'),
	('auth-rule-index', '/auth-rule/index'),
	('auth-rule-update', '/auth-rule/update'),
	('auth-rule-view', '/auth-rule/view'),
	('backlog-acceptance', '/backlog/acceptance/create'),
	('backlog-acceptance', '/backlog/acceptance/index'),
	('backlog-acceptance', 'backlog-acceptance-create'),
	('backlog-acceptance', 'backlog-acceptance-index'),
	('backlog-acceptance-create', '/backlog/acceptance/create'),
	('backlog-acceptance-index', '/backlog/acceptance/index'),
	('backlog-default', '/backlog/default/create'),
	('backlog-default', '/backlog/default/index'),
	('backlog-default', 'backlog-default-create'),
	('backlog-default', 'backlog-default-index'),
	('backlog-default-create', '/backlog/default/create'),
	('backlog-default-index', '/backlog/default/index'),
	('change-default', '/change/default/create'),
	('change-default', '/change/default/index'),
	('change-default', 'change-default-create'),
	('change-default', 'change-default-index'),
	('change-default-create', '/change/default/create'),
	('change-default-index', '/change/default/index'),
	('event', '/event/create'),
	('event', '/event/index'),
	('event', '/event/update'),
	('event', 'event-create'),
	('event', 'event-index'),
	('event', 'event-update'),
	('event-create', '/event/create'),
	('event-handler', '/event-handler/create'),
	('event-handler', '/event-handler/index'),
	('event-handler', '/event-handler/update'),
	('event-handler', 'event-handler-create'),
	('event-handler', 'event-handler-index'),
	('event-handler', 'event-handler-update'),
	('event-handler-create', '/event-handler/create'),
	('event-handler-index', '/event-handler/index'),
	('event-handler-update', '/event-handler/update'),
	('event-index', '/event/index'),
	('event-update', '/event/update'),
	('im-robot', '/im-robot/create'),
	('im-robot', '/im-robot/index'),
	('im-robot', '/im-robot/update'),
	('im-robot', 'im-robot-create'),
	('im-robot', 'im-robot-index'),
	('im-robot', 'im-robot-update'),
	('im-robot-create', '/im-robot/create'),
	('im-robot-index', '/im-robot/index'),
	('im-robot-update', '/im-robot/update'),
	('meet-default', '/meet/default/create'),
	('meet-default', '/meet/default/delete'),
	('meet-default', '/meet/default/index'),
	('meet-default', '/meet/default/update'),
	('meet-default', '/meet/default/view'),
	('meet-default', 'meet-default-create'),
	('meet-default', 'meet-default-delete'),
	('meet-default', 'meet-default-index'),
	('meet-default', 'meet-default-update'),
	('meet-default', 'meet-default-view'),
	('meet-default-create', '/meet/default/create'),
	('meet-default-delete', '/meet/default/delete'),
	('meet-default-index', '/meet/default/index'),
	('meet-default-update', '/meet/default/update'),
	('meet-default-view', '/meet/default/view'),
	('member-default', '/member/default/create'),
	('member-default', '/member/default/delete'),
	('member-default', '/member/default/index'),
	('member-default', '/member/default/update'),
	('member-default', '/member/default/view'),
	('member-default', 'member-default-create'),
	('member-default', 'member-default-delete'),
	('member-default', 'member-default-index'),
	('member-default', 'member-default-update'),
	('member-default', 'member-default-view'),
	('member-default-create', '/member/default/create'),
	('member-default-delete', '/member/default/delete'),
	('member-default-index', '/member/default/index'),
	('member-default-update', '/member/default/update'),
	('member-default-view', '/member/default/view'),
	('myproject-default', '/myproject/default/create'),
	('myproject-default', '/myproject/default/index'),
	('myproject-default', 'myproject-default-create'),
	('myproject-default', 'myproject-default-index'),
	('myproject-default-create', '/myproject/default/create'),
	('myproject-default-index', '/myproject/default/index'),
	('plan-default', '/plan/default/index'),
	('plan-default', 'plan-default-index'),
	('plan-default-index', '/plan/default/index'),
	('project', '/project/create'),
	('project', '/project/index'),
	('project', '/project/space'),
	('project', '/project/update'),
	('project', '/project/view'),
	('project', 'project-create'),
	('project', 'project-index'),
	('project', 'project-space'),
	('project', 'project-update'),
	('project', 'project-view'),
	('project-create', '/project/create'),
	('project-index', '/project/index'),
	('project-space', '/project/space'),
	('project-update', '/project/update'),
	('project-view', '/project/view'),
	('robot-default', '/robot/default/create'),
	('robot-default', '/robot/default/index'),
	('robot-default', '/robot/default/update'),
	('robot-default', 'robot-default-create'),
	('robot-default', 'robot-default-index'),
	('robot-default', 'robot-default-update'),
	('robot-default-create', '/robot/default/create'),
	('robot-default-index', '/robot/default/index'),
	('robot-default-update', '/robot/default/update'),
	('robot-message', '/robot-message/create'),
	('robot-message', '/robot-message/index'),
	('robot-message', '/robot-message/update'),
	('robot-message', '/robot-message/view'),
	('robot-message', 'robot-message-create'),
	('robot-message', 'robot-message-index'),
	('robot-message', 'robot-message-update'),
	('robot-message', 'robot-message-view'),
	('robot-message-create', '/robot-message/create'),
	('robot-message-index', '/robot-message/index'),
	('robot-message-update', '/robot-message/update'),
	('robot-message-view', '/robot-message/view'),
	('role', '/role/create'),
	('role', '/role/index'),
	('role', '/role/permission'),
	('role', '/role/update'),
	('role', 'role-create'),
	('role', 'role-index'),
	('role', 'role-permission'),
	('role', 'role-update'),
	('role-create', '/role/create'),
	('role-index', '/role/index'),
	('role-permission', '/role/permission'),
	('role-update', '/role/update'),
	('site', '/site/index'),
	('site', 'site-index'),
	('site-index', '/site/index'),
	('space-default', '/space/default/create'),
	('space-default', '/space/default/index'),
	('space-default', '/space/default/update'),
	('space-default', 'space-default-create'),
	('space-default', 'space-default-index'),
	('space-default', 'space-default-update'),
	('space-default-create', '/space/default/create'),
	('space-default-index', '/space/default/index'),
	('space-default-update', '/space/default/update'),
	('sprint-default', '/sprint/default/create'),
	('sprint-default', '/sprint/default/delete'),
	('sprint-default', '/sprint/default/index'),
	('sprint-default', '/sprint/default/update'),
	('sprint-default', '/sprint/default/view'),
	('sprint-default', 'sprint-default-create'),
	('sprint-default', 'sprint-default-delete'),
	('sprint-default', 'sprint-default-index'),
	('sprint-default', 'sprint-default-update'),
	('sprint-default', 'sprint-default-view'),
	('sprint-default-create', '/sprint/default/create'),
	('sprint-default-delete', '/sprint/default/delete'),
	('sprint-default-index', '/sprint/default/index'),
	('sprint-default-update', '/sprint/default/update'),
	('sprint-default-view', '/sprint/default/view'),
	('sprint-story', '/sprint/story/create'),
	('sprint-story', '/sprint/story/index'),
	('sprint-story', '/sprint/story/update'),
	('sprint-story', '/sprint/story/view'),
	('sprint-story', 'sprint-story-create'),
	('sprint-story', 'sprint-story-index'),
	('sprint-story', 'sprint-story-update'),
	('sprint-story', 'sprint-story-view'),
	('sprint-story-active', '/sprint/story-active/create'),
	('sprint-story-active', 'sprint-story-active-create'),
	('sprint-story-active-create', '/sprint/story-active/create'),
	('sprint-story-create', '/sprint/story/create'),
	('sprint-story-index', '/sprint/story/index'),
	('sprint-story-update', '/sprint/story/update'),
	('sprint-story-view', '/sprint/story/view'),
	('story-status', '/story-status/create'),
	('story-status', '/story-status/index'),
	('story-status', 'story-status-create'),
	('story-status', 'story-status-index'),
	('story-status-create', '/story-status/create'),
	('story-status-index', '/story-status/index'),
	('switch-project', '/switch-project/index'),
	('switch-project', 'switch-project-index'),
	('switch-project-index', '/switch-project/index'),
	('update-my-project', 'project-update'),
	('user', '/user/create'),
	('user', '/user/index'),
	('user', '/user/role'),
	('user', '/user/update'),
	('user', '/user/view'),
	('user', 'user-create'),
	('user', 'user-index'),
	('user', 'user-role'),
	('user', 'user-update'),
	('user', 'user-view'),
	('user-create', '/user/create'),
	('user-index', '/user/index'),
	('user-role', '/user/role'),
	('user-update', '/user/update'),
	('user-view', '/user/view'),
	('开发人员', 'meet-default-create'),
	('开发人员', 'meet-default-delete'),
	('开发人员', 'meet-default-index'),
	('开发人员', 'meet-default-update'),
	('开发人员', 'meet-default-view'),
	('开发人员', 'myproject-default-create'),
	('开发人员', 'myproject-default-index'),
	('开发人员', 'space-default-index'),
	('开发人员', 'sprint-default-create'),
	('开发人员', 'sprint-default-delete'),
	('开发人员', 'sprint-default-index'),
	('开发人员', 'sprint-default-update'),
	('开发人员', 'sprint-default-view'),
	('开发人员', 'sprint-story-active-create'),
	('开发人员', 'sprint-story-create'),
	('开发人员', 'sprint-story-index'),
	('开发人员', 'sprint-story-update'),
	('开发人员', 'sprint-story-view'),
	('敏捷教练', 'backlog-acceptance-create'),
	('敏捷教练', 'backlog-acceptance-index'),
	('敏捷教练', 'backlog-default-create'),
	('敏捷教练', 'backlog-default-index'),
	('敏捷教练', 'change-default-create'),
	('敏捷教练', 'change-default-index'),
	('敏捷教练', 'meet-default-create'),
	('敏捷教练', 'meet-default-delete'),
	('敏捷教练', 'meet-default-index'),
	('敏捷教练', 'meet-default-update'),
	('敏捷教练', 'meet-default-view'),
	('敏捷教练', 'member-default-create'),
	('敏捷教练', 'member-default-delete'),
	('敏捷教练', 'member-default-index'),
	('敏捷教练', 'member-default-update'),
	('敏捷教练', 'member-default-view'),
	('敏捷教练', 'myproject-default-create'),
	('敏捷教练', 'myproject-default-index'),
	('敏捷教练', 'robot-default-create'),
	('敏捷教练', 'robot-default-index'),
	('敏捷教练', 'robot-default-update'),
	('敏捷教练', 'space-default-create'),
	('敏捷教练', 'space-default-index'),
	('敏捷教练', 'space-default-update'),
	('敏捷教练', 'sprint-default-create'),
	('敏捷教练', 'sprint-default-delete'),
	('敏捷教练', 'sprint-default-index'),
	('敏捷教练', 'sprint-default-update'),
	('敏捷教练', 'sprint-default-view'),
	('敏捷教练', 'sprint-story-active-create'),
	('敏捷教练', 'sprint-story-create'),
	('敏捷教练', 'sprint-story-index'),
	('敏捷教练', 'sprint-story-update'),
	('敏捷教练', 'sprint-story-view'),
	('项目负责人', 'backlog-acceptance-create'),
	('项目负责人', 'backlog-acceptance-index'),
	('项目负责人', 'backlog-default-create'),
	('项目负责人', 'backlog-default-index'),
	('项目负责人', 'change-default-create'),
	('项目负责人', 'change-default-index'),
	('项目负责人', 'meet-default-create'),
	('项目负责人', 'meet-default-delete'),
	('项目负责人', 'meet-default-index'),
	('项目负责人', 'meet-default-update'),
	('项目负责人', 'meet-default-view'),
	('项目负责人', 'member-default-create'),
	('项目负责人', 'member-default-delete'),
	('项目负责人', 'member-default-index'),
	('项目负责人', 'member-default-update'),
	('项目负责人', 'member-default-view'),
	('项目负责人', 'myproject-default-create'),
	('项目负责人', 'myproject-default-index'),
	('项目负责人', 'robot-default-create'),
	('项目负责人', 'robot-default-index'),
	('项目负责人', 'robot-default-update'),
	('项目负责人', 'space-default-create'),
	('项目负责人', 'space-default-index'),
	('项目负责人', 'space-default-update'),
	('项目负责人', 'sprint-default-create'),
	('项目负责人', 'sprint-default-delete'),
	('项目负责人', 'sprint-default-index'),
	('项目负责人', 'sprint-default-update'),
	('项目负责人', 'sprint-default-view'),
	('项目负责人', 'sprint-story-active-create'),
	('项目负责人', 'sprint-story-create'),
	('项目负责人', 'sprint-story-index'),
	('项目负责人', 'sprint-story-update'),
	('项目负责人', 'sprint-story-view');
/*!40000 ALTER TABLE `auth_item_child` ENABLE KEYS */;

-- 导出  表 geetask.auth_rule 结构
CREATE TABLE IF NOT EXISTS `auth_rule` (
  `name` varchar(64) NOT NULL,
  `data` blob,
  `created_at` int(11) DEFAULT NULL,
  `updated_at` int(11) DEFAULT NULL,
  PRIMARY KEY (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 正在导出表  geetask.auth_rule 的数据：~1 rows (大约)
/*!40000 ALTER TABLE `auth_rule` DISABLE KEYS */;
INSERT INTO `auth_rule` (`name`, `data`, `created_at`, `updated_at`) VALUES
	('\\app\\rules\\IsMyProject', _binary 0x4F3A32313A226170705C72756C65735C49734D7950726F6A656374223A333A7B733A343A226E616D65223B733A32323A225C6170705C72756C65735C49734D7950726F6A656374223B733A393A22637265617465644174223B693A313534333330393933353B733A393A22757064617465644174223B693A313534333330393933353B7D, 1543309935, 1543309935);
/*!40000 ALTER TABLE `auth_rule` ENABLE KEYS */;

-- 导出  表 geetask.gt_aliyun_log 结构
CREATE TABLE IF NOT EXISTS `gt_aliyun_log` (
  `project_id` int(11) NOT NULL COMMENT '项目',
  `endpoint` varchar(64) NOT NULL,
  `access_key` varchar(64) NOT NULL,
  `secret_key` varchar(64) NOT NULL,
  PRIMARY KEY (`project_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='阿里云日志';

-- 正在导出表  geetask.gt_aliyun_log 的数据：~1 rows (大约)
/*!40000 ALTER TABLE `gt_aliyun_log` DISABLE KEYS */;
INSERT INTO `gt_aliyun_log` (`project_id`, `endpoint`, `access_key`, `secret_key`) VALUES
	(1, 'cn-hangzhou.log.aliyuncs.com', 'LTAI1alt8j7A1BNl', '4ErL4LRTaD8Kj1CFKtRNqWRVXyfgfE');
/*!40000 ALTER TABLE `gt_aliyun_log` ENABLE KEYS */;

-- 导出  表 geetask.gt_change 结构
CREATE TABLE IF NOT EXISTS `gt_change` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `project_id` int(11) NOT NULL COMMENT '项目',
  `category_id` int(11) NOT NULL COMMENT '分类',
  `creator_id` int(11) NOT NULL COMMENT '创建人',
  `content` text COMMENT '内容',
  `created_at` int(11) DEFAULT NULL COMMENT '添加时间',
  `updated_at` int(11) DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=34 DEFAULT CHARSET=utf8mb4 COMMENT='变更';


-- 导出  表 geetask.gt_change_category 结构
CREATE TABLE IF NOT EXISTS `gt_change_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` text COMMENT '名称',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT='变更分类';

-- 正在导出表  geetask.gt_change_category 的数据：~1 rows (大约)
/*!40000 ALTER TABLE `gt_change_category` DISABLE KEYS */;
INSERT INTO `gt_change_category` (`id`, `name`) VALUES
	(1, 'SQL');
/*!40000 ALTER TABLE `gt_change_category` ENABLE KEYS */;

-- 导出  表 geetask.gt_event 结构
CREATE TABLE IF NOT EXISTS `gt_event` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `created_at` int(11) NOT NULL COMMENT '添加时间',
  `updated_at` int(11) NOT NULL COMMENT '更新时间',
  `name` varchar(64) NOT NULL COMMENT '名称',
  `code` varchar(64) NOT NULL COMMENT '编码',
  `intro` varchar(255) DEFAULT NULL COMMENT '介绍',
  PRIMARY KEY (`id`),
  UNIQUE KEY `code` (`code`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COMMENT='事件';

-- 正在导出表  geetask.gt_event 的数据：~2 rows (大约)
/*!40000 ALTER TABLE `gt_event` DISABLE KEYS */;
INSERT INTO `gt_event` (`id`, `created_at`, `updated_at`, `name`, `code`, `intro`) VALUES
	(1, 1543392882, 1543548341, '添加新的故事', 'sprint.story.create', '在迭代计划中添加新的故事'),
	(2, 1543548739, 1543551967, '更新故事', 'sprint.story.change', '在迭代计划中通过修改状态或者指派新的处理');
/*!40000 ALTER TABLE `gt_event` ENABLE KEYS */;

-- 导出  表 geetask.gt_event_handler 结构
CREATE TABLE IF NOT EXISTS `gt_event_handler` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `event_id` int(11) NOT NULL COMMENT '事件',
  `created_at` int(11) NOT NULL COMMENT '添加时间',
  `updated_at` int(11) NOT NULL COMMENT '更新时间',
  `name` varchar(64) NOT NULL COMMENT '名称',
  `handler` varchar(128) NOT NULL COMMENT '处理器',
  `intro` varchar(255) DEFAULT NULL COMMENT '介绍',
  PRIMARY KEY (`id`),
  UNIQUE KEY `handler` (`handler`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COMMENT='事件处理器';

-- 正在导出表  geetask.gt_event_handler 的数据：~2 rows (大约)
/*!40000 ALTER TABLE `gt_event_handler` DISABLE KEYS */;
INSERT INTO `gt_event_handler` (`id`, `event_id`, `created_at`, `updated_at`, `name`, `handler`, `intro`) VALUES
	(1, 1, 1543462486, 1543549720, '发送机器人消息', '\\modules\\sprint\\handlers\\OnCreateStorySendMessageHandler', '发送标题消息'),
	(2, 2, 1543549761, 1543551513, '发送机器人消息', '\\modules\\sprint\\handlers\\OnChangeStorySendMessageHandler', '发送标题消息');
/*!40000 ALTER TABLE `gt_event_handler` ENABLE KEYS */;

-- 导出  表 geetask.gt_meet 结构
CREATE TABLE IF NOT EXISTS `gt_meet` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `project_id` int(11) NOT NULL COMMENT '项目',
  `actors` text NOT NULL COMMENT '参会人',
  `meet_date` date NOT NULL COMMENT '日期',
  `creator_id` int(11) NOT NULL COMMENT '记录人',
  `created_at` int(11) NOT NULL COMMENT '添加时间',
  `updated_at` int(11) NOT NULL COMMENT '更新时间',
  `title` varchar(128) NOT NULL COMMENT '议题',
  `content` text NOT NULL COMMENT '内容',
  `is_del` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=48 DEFAULT CHARSET=utf8mb4 COMMENT='会议';

-- 正在导出表  geetask.gt_meet 的数据：~47 rows (大约)
/*!40000 ALTER TABLE `gt_meet` DISABLE KEYS */;
INSERT INTO `gt_meet` (`id`, `project_id`, `actors`, `meet_date`, `creator_id`, `created_at`, `updated_at`, `title`, `content`, `is_del`) VALUES
	(1, 1, '技术，缪灵健', '2018-06-04', 1, 1528079565, 1528079565, '小义API测试环境测试计划', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>陈铭验证bug。2018-06-04</p></li><li><p>NDA测试环境对接小义正式环境，并测试（API+单体酒店的订单流程）</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p>环境 2018-06-04</p></li><li><p>测试 2018-06-05</p></li><li><p>写一遍用例，方便正式发布测试重要节点。<br/></p></li></ol><li><p>NDA发布到正式环境之后，再做一轮测试验证流程。2018-6-07</p></li></ol><p><br/></p><p>&nbsp;注意环节：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;1.docker 容器的名称的问题（最好跟阿里云的技术沟通了解）</p><p><br/></p>', 0),
	(2, 1, '顿刚、俞栋伟、缪灵健、章秀蓉', '2018-06-04', 11, 1528083647, 1528790818, '内部管理平台的权限功能', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>酒店账号管理中的添加用户调整为添加管理员，删除添加普通用户的权限；&nbsp; <span style="color: rgb(255, 0, 0);">添加普通用户功能已删除，添加管理员修改为开通帐号测试OK。</span></p></li><li><p>“酒店账号管理”中的“所属公司”名称改为“查看管理员”； <span style="color: rgb(255, 0, 0);">所属公司已修改为查看管理员<span style="color: rgb(255, 0, 0);">测试OK</span></span></p></li><li><p>“分销账号管理”中的“添加管理员”权限实际为“我的分销客户-开通”，应更换位置，更改名称；<span style="color: rgb(255, 0, 0);">添加管理员已修改为开通帐号<span style="color: rgb(255, 0, 0);">测试OK</span></span></p></li><li><p>“审核中心-酒店图片审核”名称应改为“酒店信息管理-酒店图片”； <span style="color: rgb(255, 0, 0);">名称已对应修改<span style="color: rgb(255, 0, 0);">测试OK</span></span></p></li><li><p>“酒店信息审核-管理员”的权限在admin-add；&nbsp;&nbsp;<span style="color: rgb(255, 0, 0);">测试OK</span></p></li><li><p>未跟进酒店与未跟进分销中的“指派跟进人”权限实际在“分销业务-分销入住-入驻更新”位置，应更改权限名称；<span style="color: rgb(255, 0, 0);">指派与跟进功能拆分<span style="color: rgb(255, 0, 0);">测试OK</span>。</span></p></li><li><p>“审核中心-酒店修改审核”中的“审核更新”功能就是操作审核的功能，&#39;添加审核”在“运营设置-修改类型管理”；<span style="text-decoration: line-through;">“审核删除”的权限要删掉</span>；<span style="color: rgb(255, 0, 0);">审核删除权限未删除。</span></p></li><li><p>“酒店设施”改为“酒店政策”；<span style="color: rgb(255, 0, 0);">已修改测试OK</span></p></li><li><p>“审核中心-酒店房型审核”名称改为“酒店信息审核”<span style="color: rgb(255, 0, 0);">已修改</span><span style="color: rgb(255, 0, 0);">测试O</span><span style="color: rgb(255, 0, 0);">K</span><br/></p></li><li><p>俞栋伟核实“财务管理-酒店佣金管理”充值确认和发票申请的权限是否已添加在系统中；<span style="color: rgb(255, 0, 0);">权限功能已添加，测试OK.</span></p></li><li><p>“酒店信息管理-酒店联系人”权限不变；</p></li><li><p>“洽谈合同”中的“新增、更新”的权限更改为“更新进度”-俞栋伟&nbsp;&nbsp;<span style="color: rgb(255, 0, 0);">已修改</span><span style="color: rgb(255, 0, 0);">测试O</span><span style="color: rgb(255, 0, 0);">K</span></p></li><li><p>我的酒店客户的“启用禁用”权限改为放在“酒店账号管理-酒店账号启用/禁用”；<span style="color: rgb(255, 0, 0);">已调整OK</span></p></li><li><p>酒店服务更改为“酒店设施”；<span style="color: rgb(255, 0, 0);">已修改</span><span style="color: rgb(255, 0, 0);">测试O</span><span style="color: rgb(255, 0, 0);">K</span></p></li><li><p>“酒店信息管理-酒店联系人”的“添加联系人”权限删除；<span style="color: rgb(255, 0, 0);">已修改</span><span style="color: rgb(255, 0, 0);">测试O</span><span style="color: rgb(255, 0, 0);">K</span></p></li><li><p>“酒店删除”权限删除；“酒店发票信息”权限删掉；<span style="color: rgb(255, 0, 0);">已修改</span><span style="color: rgb(255, 0, 0);">测试O</span><span style="color: rgb(255, 0, 0);">K</span></p></li><li><p>“房型恢复/作废”权限实际为“房型状态（是否可用）”，名称应更改；<span style="color: rgb(255, 0, 0);">功能政策建议名称修改为“<span style="color: rgb(255, 0, 0);">房型作废与恢复</span>”。</span></p></li><li><p>“酒店外景、内景、设施”的图片在以上第4点；&nbsp;</p></li><li><p>“酒店入驻”权限名称不变，指派跟进人与跟进权限分开；<span style="color: rgb(255, 0, 0);">已修改</span><span style="color: rgb(255, 0, 0);">测试O</span><span style="color: rgb(255, 0, 0);">K</span></p></li><li><p>“我的酒店客户-账号管理”权限为第13点；“未跟进酒店-指派跟进人”权限为第6点；</p></li><li><p>“酒店问答”改为“内容管理-评论系统”； <span style="color: rgb(255, 0, 0);">点评系统中功能缺少屏蔽权限。</span><br/></p></li><li><p>“列表”与“页面权限”暂不合并，“内容管理-平台广告”的编辑权限实际在“分销业务-分销公司管理-公司更新”，名称需更改；</p><p><span style="color: rgb(255, 0, 0);">内容管理-平台广告 中的广告编辑 权限被放置在了 内容管理-系统公告需修改。</span></p></li><li><p>“系统服务费-分销商开票权限”验证后分销商开票权限已被限制，问题不存在；</p></li><li><p>“酒店修改审核”无“认领”权限时，增加“权限不足”的提示框；<span style="color: rgb(255, 0, 0);">已修改</span><span style="color: rgb(255, 0, 0);">测试O</span><span style="color: rgb(255, 0, 0);">K</span></p></li><li><p>“认领”审核成功后，有“审核成功”的提示框，问题不存在；</p></li><li><p>“我的审核管理”权限实际在“酒店修改审核-页面权限”；<span style="color: rgb(255, 0, 0);">已修改</span><span style="color: rgb(255, 0, 0);">测试O</span><span style="color: rgb(255, 0, 0);">K</span></p></li><li><p>&nbsp;太多，不合并，过；</p></li><li><p>“分销设置-角色授权”不是多余的，对应“分销设置-分销角色管理”；“分销管理员管理-编辑管理员”权限需删除；<span style="color: rgb(255, 0, 0);">权限已删除OK</span></p></li><li><p>“分销业务-分销账号管理-设置管理员、添加管理员”无需更改位置，在第1点；</p></li><li><p>“财务管理-分别续爱发票管理”名称更改为“财务管理-分销商发票管理”；<span style="color: rgb(255, 0, 0);">测试OK</span><br/></p></li><li><p>“财务管理-分销提现管理”的“更新提现审核”更改为“拒绝提现审核”；<span style="color: rgb(255, 0, 0);">测试OK</span></p></li><li><p>“分销业务-分销公司管理”的“公司更新”名称更改为“公司编辑”，该权限包括（批量）公司认领<span style="color: rgb(255, 0, 0);">（系统无该功能，删除该点）</span>、公司编辑、（批量）分配跟进人、启用/禁用管理员，需分开（批量）公司认领<span style="color: rgb(255, 0, 0);">（系统无该功能，删除该点）</span>、公司编辑合并为一个权限，取名为公司认领/编辑（<span style="color: rgb(255, 0, 0);">系统无公司认领功能，名称为“公司更新”</span>），位置放“分销公司管理”；（批量）分配跟进人为一个权限，位置放“分销公司管理”；启用/禁用账号，位置放“分销账号管理”；<span style="color: rgb(255, 0, 0);">测试OK</span></p></li><li><p>“分销业务-分销账号管理”的“添加管理员”名称改为“账号开通”，“设置管理员”改为“分销公司管理-管理员查看”；<span style="color: rgb(255, 0, 0);">测试OK</span></p></li><li><p>“分销业务-分销入驻”的“入驻列表”、“页面权限”同第31点；</p></li><li><p>“分销业务-分销入驻”的“入驻视图”实际为“全部分销商”的“查看”（分销商详情）名称为“查看分销商详情”；<span style="color: rgb(255, 0, 0);">测试OK</span></p></li><li><p>经测试应该是电脑问题；</p></li><li><p>“分销业务-分销账号管理”的“账号列表”没问题；“账号添加”的问题由俞栋伟核实 ；<span style="color: rgb(255, 0, 0);">账号添加权限已删除，</span><span style="color: rgb(255, 0, 0);">测试OK</span></p></li><li><p>“财务管理-分销商提现”的“页面权限”确定多余，要删除；<span style="color: rgb(255, 0, 0);">测试OK</span></p></li><li><p>“分销业务-分销合同模块”实际在“我的分销客户”中的合同编辑；“分销商部门模块”确定多余，删除。<span style="color: rgb(255, 0, 0);">测试OK</span></p></li></ol><p><br/></p><p><br/></p>', 0),
	(3, 1, '赵金桥，刘丽萍，顿刚', '2018-06-04', 1, 1528097833, 1528102441, 'NDA-hmui 酒店端界面梳理第一次会议（酒店信息，订单管理）', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>首页的站内公告排版不稳定，点击等待回复出现偏移。</p></li><li><p>酒店基础信息内容排序已确定，待丽萍告知金桥调整的事项。</p></li><li><p>酒店设施的编辑功能调整为统一编辑（丽萍设计界面调整）</p></li><li><p>酒店信息-&gt;酒店房型的编辑房型设施的功能，修改房型的按钮</p></li><li><p>酒店信息-&gt;添加编辑房型的设计页面</p></li><li><p>酒店信息-&gt;酒店图片 图片规则无效（需要补充）</p></li><li><p>页面的相应js动态效果补上，如果无法实现可以在页面上说明如何传递参数</p></li><li><p>酒店信息-&gt;联系人，编辑出现模态框</p></li><li><p>待处理订的默认说明页面（右侧），问题：单用户打开某个订单之后，相在看说明的时候就没有再看的按钮，需要跟产品讨论</p></li><li><p>锁定按钮展示可以更明显，比如可以表现为印戳的效果</p></li><li><p>订单处理界面，订单打印的效果（设计）</p></li><li><p>订单处理界面，订单按钮，接受，拒绝等按钮</p></li><li><p>订单处理界面，表格统一风格，边距也要统一。</p></li><li><p>全部订单，订单摘要展示的订单信息需要，考虑可变和不可变的信息，重点的和不重点的信息的排版位置和面积</p></li><li><p>待解锁订单，内容项目减少为（订单编号，锁定人，锁定日期，入住人信息），尽量保证入住人信息占为尽量给大写，其他的信息可以固定号宽度。</p></li><li><p>入住审核，客人（入住人），房型要完整显示，其他固定宽度和占位，操作按钮建议竖排，不同操作可以考虑不同的颜色区分，重审是严重的操作<br/></p></li></ol>', 0),
	(4, 1, '陈波涛，钱攀，缪灵健，章秀荣，施振国，俞栋炜，陈铭，顿刚', '2018-06-05', 1, 1528167394, 1528169008, '小义正式环境，NDA测试环境联调测试结果会议', '<p><strong>&nbsp; &nbsp;技术测试（测试下单流程）</strong><br/></p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>单体酒店，异常流程，超时入住，延时入住的状况测试顺利通过</p></li><li><p><strong><span style="color: rgb(255, 0, 0);">测试API的酒店，下单时候进行可定检查，需要提示用户，并告知如何进行下一步的处理</span></strong></p></li><li><p>测试API的酒店，下单时候进行可定检查，小义的api的数据不一致，缓存数据，酒店的价格不一致，导致下单界面没有出现下单的提交按钮。<br/></p></li><li><p>下单后续流程顺利</p></li><li><p>登录出现重复导航栏，（目前有俞栋炜在处理）</p></li><li><p>修改晚数后，预定政策（取消政策）显示不正确（消失），是界面的显示问题，服务端的逻辑代码正确。</p></li><li><p>现付担保的订单，审核成功，有部分异常的客户，应该显示部分的退款金额，但是实际结果没有政策显示（目前有钱攀已经解决）</p></li></ol><p><br/></p><p><strong>&nbsp; &nbsp;产品运营测试（测试下单流程）</strong></p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>只有单体酒店，弹框通知只出现一般</p></li><li><p>取消订单，在订单顶部出现了修改的通知</p></li><li><p>取消单点击重新预定，出现您的入住条件不满足，或者销售房型已经下架。</p></li></ol><p><br/></p><p>&nbsp; &nbsp;<strong>项目上线流程</strong></p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>数据的变更（2018-06-05）</p></li><li><p>发布<strong style="white-space: normal;">（预留3个小时 2018-06-05）</strong></p></li><li><p>创建集团（小义）账号</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p>联系小义开通正式环境的账号，绑定支付宝，需要对方自己输入密码签署支付宝三方协议。</p></li><li><p>运营在平台端的后台关联小义的酒店</p></li><li><p>手动添加销售房型，注意编码的匹配</p></li><li><p>集团账号，在收益渠道上线<br/></p></li></ol><li><p>数据同步</p></li><li><p>测试</p><p><br/></p></li></ol><p>&nbsp; &nbsp;<strong>计划2018-06-05下午测试财务模块</strong></p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>注意允许取消流程，也会调用小义api</p></li></ol><p><br/></p>', 0),
	(5, 1, '钱攀，陈波涛，陈铭，俞栋炜，管志伟，缪灵健，章秀荣，施振国，梁其滢，顿刚', '2018-06-05', 2, 1528190057, 1528190057, '小义正式环境发布前确认会议', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>陈铭测试进度通过</p></li><li><p>发布到环境：7：30</p></li><li><p>数据库更新，不影响线上的代码。</p></li><li><p>项目配置文件检查。</p></li><li><p>先把小义账号添加好，除了支付外的设置，其他全部补充好。</p></li><li><p>今天不做订单测试。<br/></p></li><li><p>合并代码</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p>钱攀合并到测试</p></li><li><p>顿刚合并到正式</p></li></ol><p><br/></p></ol>', 0),
	(6, 1, '陈波涛，钱攀，顿刚', '2018-06-06', 2, 1528254393, 1528254393, '小义对接升级系统发布总结', '<p>问题：新增的字段数据在没有停止服务的情况升级出现数据遗漏</p><p><br/></p><p>结论：</p><ol class=" list-paddingleft-2" style="box-sizing: border-box; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: Ubuntu, Tahoma, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(249, 249, 249);"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">开发期间需要统一搜集SQL的变更。</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-roman;"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box;">【开发人员使用账号权限】<span style="box-sizing: border-box;">insert，update,select,delete,locktable,transaction,show view,trigger</span></span></p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">【数据库管理员账号权限】all</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">【正式环境系统的账号<span style="box-sizing: border-box;">权限</span>】insert，update,select,delete,locktable,transaction,show view,trigger</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">【预发布系统账号权限】<span style="box-sizing: border-box;">insert，update,select,delete,locktable,transaction,show view,trigger 。需要限制白名单</span></p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box;">【开发人员使用账号权限】select</span></p></li></ol><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">生产库账号规划</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">测试库账号规划</p></li></ol><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">核实数据库的变更</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-roman;"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">对业务产生影响的SQL</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box; color: rgb(255, 0, 0);">必须停止业务处理</span></p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box;">可以在提前执行，</span>对业务流程不产生影响。</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box; color: rgb(255, 0, 0);">代码升级后，需要修复执行添加语句到升级完成间产生的数据补全，新字段，新表的业务数据</span>。</p></li></ol><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box;">【添加字段】、【<span style="box-sizing: border-box;">添加新表</span>】，</span></p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">【<span style="box-sizing: border-box;">修改字段】、【添加索引】</span></p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">静态数据的SQL可以提前执行，比如：【INSERT】，【UPDATE】。update set field = 1 where id=2</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">动态数据的SQL需要在升级后执行，比如：【UPDATE】update set field = sum（field2+1) where id=2</p></li></ol><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">发布（<span style="box-sizing: border-box;">灰度发布</span>）</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-roman;"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">检查MYSQL数据库连接地址</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">开启白名单</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">缓存数据服务是否正确</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">支付跳转通知地址</p></li></ol><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">检查预发布环境的配置参数，application-pre.yml</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">核实要发布的项目模块</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box; color: rgb(255, 0, 0);">定时任务的项目是否发布需要判断？（同时出现多个定时任务是否出现）</span></p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box; color: rgb(255, 0, 0);">动态SQL，添加字段，添加新表，补全数据的检查</span><br/></p></li></ol><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box;">创建集团（小义）账号</span><br/></p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">联系小义开通正式环境的账号，绑定支付宝，需要对方自己输入密码签署支付宝三方协议。</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">运营在平台端的后台关联小义的酒店</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">手动添加销售房型，注意编码的匹配</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">集团账号，在收益渠道上线<br/></p></li></ol><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">数据同步（检查数据同步是否正常）</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">测试</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">测试新业务</p></li><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><span style="box-sizing: border-box; color: rgb(255, 0, 0);">测试发布空挡期出现的新数据的校验，技术支持查询可能的空挡数据</span></p></li></ol><li><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;">切换正式的环境</p></li></ol><p><br/></p><p><br/></p>', 0),
	(7, 1, '钱攀，陈波涛，陈铭，俞栋炜，管志伟，缪灵健，章秀荣，施振国，梁其滢，章宇飞, 顿刚', '2018-06-06', 2, 1528276370, 1528276370, '小义上线后正式环境API订单的测试确认会', '<p><strong>API数据同步及测试</strong></p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>小义的酒店已经全部录入到NDA系统<br/></p></li><li><p>酒店、房型、销售房型等代码的匹配完成</p></li><li><p>API数据同步完成</p></li><li><p>等待测试订单流程（绑定支付宝）</p></li></ol><p><br/></p><p><strong>Fixbug20180528发布时间定为下周一（2018-06-11）</strong><br/></p>', 0),
	(8, 1, '陈波涛，钱攀，顿刚', '2018-06-07', 2, 1528336822, 1528449813, '小义支付绑定异常讨论会', '<p><strong>问题：</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;1.支付宝绑定，签约的时候，参数传递错误<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;2.支付接口执行日志id重复概率高<br/></p><p><br/></p><p><br/></p><p><strong>调整：</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;1.增加订单类型字段，类型为CHAR（3），必填项，必须是3个或者3个以内的字符。<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;2.业务订单号不能出现&nbsp;<br/></p><p>&nbsp; &nbsp; 3.传递给支付宝的商户单号为= &quot;日期（8位）订单类型（3位）订单号（最多21位）&quot;，比如：20180607ORD232232323232,最多32个字符。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;4.通知解析ID，获得订单业务类型，订单号，已经通知类型决定业务类型 查询到最后的支付流水做处理<br/></p><p><br/></p><p><strong>梳理支付宝接口：</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;1.即时到账通知的参数有：trade_no(支付宝的业务单号，可以定位业务类型) + out_trade_no(商户的订单号)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;2.即时到账批量退款接口：batch_no特殊要求固定的格式最多32位字符 ：8位日期+（3-24）流水号（只可以是英文和数字），batch_no和商户订单号具有同样的级别。<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;3.目前的业务退款只会发生一次，则batch_no不需要开发者生产，直接使用上面的商户订单号规则，这里的订单号还是业务订单Id(比如 房费订单的id），不用额外的位流水生成id去匹配规则。<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;4.解冻和冻结是同的订单类型，解冻转账支付也只会发生一次，auth_request_no 和batch_no的生成规则一样。systemPaymentDetail.getOutTradeNo() 获取</p><p><br/></p><p>/**</p><p>&nbsp;* 支付接口商户订单前缀</p><p>&nbsp;* @author dungang</p><p>&nbsp;*</p><p>&nbsp;*/</p><p>public enum OrderBizType {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>DPR,//客房订单支付到平台前缀（即时到账)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>DRB,//订单退款批次号前缀</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>DDR,//客房订单支付预授权（冻结）</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>DJR, //客房订单支付预授权（解冻）</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>DRR, //客房订单支付分润</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>DTR, //转支付</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>DPP,//机票订单支付到平台前缀</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>CPC,//充值到平台订单前缀</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>XYH,//支付协议签约订单前缀(酒店)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>XYT,//支付协议签约订单前缀(渠道)</p><p>}</p><p><br/></p><p>变更对比</p><p><br/></p><p>原流水id (order_id + 3randomstring)=&gt; NDA.id</p><p>其他不变</p><p>添加order_type</p><p>如何定位：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;1. out_trade_no 解析得到 order_id , order_type,</p><p>&nbsp;&nbsp;&nbsp;&nbsp;2. 接受通知的不同（可以确定business_type,api_type)&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;3. 这4个条件+create_time 倒序，+ 状态（init)的第一条记录</p>', 0),
	(9, 1, '钱攀，陈波涛，陈铭，俞栋炜，管志伟，, 顿刚，陈政', '2018-06-08', 2, 1528439521, 1528445434, '2018第二十四周工作梳理', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>fixbug0528 还剩下2个任务下周计划测试发布（钱攀）</p></li><li><p>api0528 预计下周完成测试发布（钱攀）</p></li><li><p>消息中心：先讨论，如何设计，开发的计划优先级，下周一确认（波涛，管志伟）</p></li><li><p>下游API的准备工作（波涛）</p></li><li><p>支付接口实现重构（钱攀，顿刚）</p></li><li><p>自动任务统一管理（波涛）</p></li><li><p>爬虫项目（陈政）</p></li><li><p>UI（金桥，刘丽萍）</p></li><li><p>死锁<br/></p></li></ol>', 0),
	(10, 1, '陈波涛，钱攀，顿刚，管志伟', '2018-06-08', 2, 1528439743, 1528460667, '消息中心需求设计讨论会', '<p><strong>&nbsp; &nbsp;第一期工作</strong></p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p><span style="text-decoration: line-through;">分销商下单成功之后，通知酒店（根据supplier_id查找消息的信息，通过会话拿取当前组织的id)</span></p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p><span style="text-decoration: line-through;">预付下单成功未付款，查询条件（orderStatus = toPay, buyType = 1)</span></p></li><li><p><span style="text-decoration: line-through;">预付下单已经付款,需要二次确认，查询条件（orderStatus = toConfirm, buyType = 1)</span></p></li><li><p><span style="text-decoration: line-through;">预付下单已经付款,不需要二次确认，查询条件（orderStatus = confirmPass, buyType = 1)</span></p></li><li><p><span style="text-decoration: line-through;">现付下单成功未付款，不通知</span></p></li><li><p><span style="text-decoration: line-through;">现付下单成功已付款，需要二次确认，查询条件（orderStatus = toConfirm， buyType=0)</span></p></li><li><p><span style="text-decoration: line-through;">现付下单成功已付款，不需要二次确认，查询条件（orderStatus = confirmPass， buyType=0)</span></p></li><li><p><span style="text-decoration: line-through;">现付无担保（表示订单成功,cancelFee = 0 or NULL），产生通知，查询条件（orderStatus = toConfirm or confirmPass, buyType = 0)</span></p></li><li><p><span style="text-decoration: line-through;">现付有担保（表示订单成功,cancelFee &gt; 0），付款担保后，产生消息，查询条件（orderStatus in(toConfirm,confirmPass) ,buyType=0）<br/></span></p></li></ol><li><p><span style="text-decoration: line-through;">分销商取消订单之后，通知酒店（动态查询）,查询条件（orderStatus = cancel)</span></p></li><li><p><span style="text-decoration: line-through;">分销商修复订单手机号码，入住人信息的修改，通知酒店端，查询条件</span></p><p><br/></p><p><br/></p></li></ol><p><br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;1.通知查询快照表（order_snapshot_task）</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.酒店收到通知的查询条件：task_type&nbsp; &nbsp;in (&#39;HotelMsg&#39;,&#39;HotelTask&#39;) and&nbsp;task_status = &#39;todo&#39;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.分销商收到通知的查询条件：task_type&nbsp; &nbsp;in (&#39;TAMsg&#39;,&#39;TATask&#39;)&nbsp;and&nbsp;task_status = &#39;todo&#39;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.消息是否已读（done:已读，todo=未读）<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;2.补充修改联系人等（非核心信息）产生类型为HotelMsg的快照(钱攀)</p><p><br/></p><p>&nbsp; &nbsp;<strong> 现有订单跟快照的关系</strong><br/></p><p>&nbsp; &nbsp; 订单的核心信息的变化都会产生快照，对酒店和分销商来说，只需要处理最新的消息通知即可，在最新的消息之前的消息会产生很多条的可能，但是对酒店和分销无意义。为了高效的处理快照的通知，冗余最新的快照到订单表（task_id,task_status)。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;当用户处理了订单同时更新订单的task_status = done, 但是不会同步更新快照表中的task的状态（task_status）。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;如果是用户修改信息，产生的是消息，不会同到订单的（task_id ,task_status）<br/></p><p><br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>修改建议</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.当用户处理了订单同时更新订单的task_status = done, 此时应该更新该task和该task之前的task为done。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.Msg类型的快照暂时当成持久化的站内通知</p>', 0),
	(11, 1, '陈波涛，钱攀，顿刚，管志伟', '2018-06-08', 2, 1528446185, 1528460469, '出现死锁现象的讨论会', '<p><strong>问题：</strong></p><p>&nbsp;在系统的运行过程中出现了订单表死锁。</p><p><br/></p><p><span style="color: rgb(255, 0, 0);">我们通过show engine innodb status 查看的日志是最新一次记录死锁的日志</span></p><p><br/></p><p><strong>测试数据库查询的结果</strong></p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>当某个进程在先更新表hotel_room_reserve_stock，后更新hotel_room_plan</p></li><li><p>同时另一个进程在先更新表 hotel_room_plan，后更新 hotel_room_reserve_stock</p></li><li><p>以上条件导致了死锁<br/></p></li></ol><p><br/></p><p><strong>解决方法：</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;检查sql，保证其他的语句 更新的顺序一致<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;或者牺牲机制（待波涛确认）<br/></p><p><br/></p><p><br/></p><p>=====================================</p><p>2018-06-08 16:37:23 0x7f94464a0700 INNODB MONITOR OUTPUT</p><p>=====================================</p><p>Per second averages calculated from the last 57 seconds</p><p>-----------------</p><p>BACKGROUND THREAD</p><p>-----------------</p><p>srv_master_thread loops: 196775 srv_active, 0 srv_shutdown, 23461646 srv_idle</p><p>srv_master_thread log flush and writes: 23658421</p><p>----------</p><p>SEMAPHORES</p><p>----------</p><p>OS WAIT ARRAY INFO: reservation count 645703</p><p>OS WAIT ARRAY INFO: signal count 645541</p><p>RW-shared spins 0, rounds 557703, OS waits 276834</p><p>RW-excl spins 0, rounds 478045, OS waits 3516</p><p>RW-sx spins 217, rounds 21506, OS waits 175</p><p>Spin rounds per wait: 557703.00 RW-shared, 478045.00 RW-excl, 99.11 RW-sx</p><p>------------------------</p><p>LATEST FOREIGN KEY ERROR</p><p>------------------------</p><p>2018-05-31 14:07:57 0x7f944c1f1700&nbsp; Cannot drop table `loglass`.`auth_rule`</p><p>because it is referenced by `loglass`.`auth_item`</p><p>------------------------</p><p>LATEST DETECTED DEADLOCK</p><p>------------------------</p><p>2018-02-27 16:30:05 0x7f9446a77700</p><p>*** (1) TRANSACTION:</p><p>TRANSACTION 22947, ACTIVE 1 sec starting index read</p><p>mysql tables in use 1, locked 1</p><p>LOCK WAIT 4 lock struct(s), heap size 1136, 2 row lock(s), undo log entries 1</p><p>MySQL thread id 45964, OS thread handle 140274810345216, query id 1734690 115.236.73.58 hema-test updating</p><p>update hotel_room_reserve_stock set sold_num = sold_num + -1</p><p><span style="white-space:pre"></span>&nbsp; &nbsp; where id =&nbsp; &#39;417972410617303040&#39; and num &gt;= sold_num + -1</p><p>*** (1) WAITING FOR THIS LOCK TO BE GRANTED:</p><p>RECORD LOCKS space id 112 page no 115 n bits 184 index PRIMARY of table `nda-test`.`hotel_room_reserve_stock` trx id 22947 lock_mode X locks rec but not gap waiting</p><p>Record lock, heap no 115 PHYSICAL RECORD: n_fields 15; compact format; info bits 0</p><p>&nbsp;0: len 18; hex 343137393732343130363137333033303430; asc 417972410617303040;;</p><p>&nbsp;1: len 6; hex 0000000059a4; asc&nbsp; &nbsp; &nbsp;Y ;;</p><p>&nbsp;2: len 7; hex 26000001ba107e; asc &amp;&nbsp; &nbsp; &nbsp;~;;</p><p>&nbsp;3: len 18; hex 333932363337353835363035393232383136; asc 392637585605922816;;</p><p>&nbsp;4: len 18; hex 333937373531303639383633373130373230; asc 397751069863710720;;</p><p>&nbsp;5: len 18; hex 302020202020202020202020202020202020; asc 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;;</p><p>&nbsp;6: len 3; hex 8fc45b; asc&nbsp; &nbsp;[;;</p><p>&nbsp;7: len 18; hex 333937373531363534353734383534313836; asc 397751654574854186;;</p><p>&nbsp;8: len 2; hex 8014; asc&nbsp; &nbsp;;;</p><p>&nbsp;9: len 2; hex 8000; asc&nbsp; &nbsp;;;</p><p>&nbsp;10: len 1; hex 80; asc&nbsp; ;;</p><p>&nbsp;11: len 1; hex 81; asc&nbsp; ;;</p><p>&nbsp;12: len 5; hex 999f340000; asc&nbsp; &nbsp;4&nbsp; ;;</p><p>&nbsp;13: len 5; hex 999f369348; asc&nbsp; &nbsp;6 H;;</p><p>&nbsp;14: len 5; hex 999f370785; asc&nbsp; &nbsp;7&nbsp; ;;</p><p><br/></p><p>*** (2) TRANSACTION:</p><p>TRANSACTION 22948, ACTIVE 0 sec starting index read</p><p>mysql tables in use 1, locked 1</p><p>4 lock struct(s), heap size 1136, 2 row lock(s), undo log entries 1</p><p>MySQL thread id 46063, OS thread handle 140274817267456, query id 1734692 116.62.134.7 hema-test updating</p><p>update hotel_room_plan</p><p><span style="white-space:pre"></span> SET hotel_id = &#39;392637585605922816&#39;,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>sale_room_id = &#39;397751069863710720&#39;,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>date = &#39;2018-02-27&#39;,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>status = 1,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>base_price = 0.10,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>num = 96,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>num_reserve = 30,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>sold_num = 0,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>reserve_sold_num = -1,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>auto_close = 1,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>cancel_type = 1,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>cancel_last_datetime =</p><p><span style="white-space:pre"></span>&#39;2018-02-27 23:00:00&#39;,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>cancel_fee_policy = 1,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>reserve_last_datetime =</p><p><span style="white-space:pre"></span>&#39;2018-02-27 23:00:00&#39;,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>reserve_nights = 1,</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>reserver_num = 1&nbsp;</p><p><span style="white-space:pre"></span>where id = &#39;397751654574854186&#39;</p><p>*** (2) HOLDS THE LOCK(S):</p><p>RECORD LOCKS space id 112 page no 115 n bits 184 index PRIMARY of table `nda-test`.`hotel_room_reserve_stock` trx id 22948 lock_mode X locks rec but not gap</p><p>Record lock, heap no 115 PHYSICAL RECORD: n_fields 15; compact format; info bits 0</p><p>&nbsp;0: len 18; hex 343137393732343130363137333033303430; asc 417972410617303040;;</p><p>&nbsp;1: len 6; hex 0000000059a4; asc&nbsp; &nbsp; &nbsp;Y ;;</p><p>&nbsp;2: len 7; hex 26000001ba107e; asc &amp;&nbsp; &nbsp; &nbsp;~;;</p><p>&nbsp;3: len 18; hex 333932363337353835363035393232383136; asc 392637585605922816;;</p><p>&nbsp;4: len 18; hex 333937373531303639383633373130373230; asc 397751069863710720;;</p><p>&nbsp;5: len 18; hex 302020202020202020202020202020202020; asc 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;;</p><p>&nbsp;6: len 3; hex 8fc45b; asc&nbsp; &nbsp;[;;</p><p>&nbsp;7: len 18; hex 333937373531363534353734383534313836; asc 397751654574854186;;</p><p>&nbsp;8: len 2; hex 8014; asc&nbsp; &nbsp;;;</p><p>&nbsp;9: len 2; hex 8000; asc&nbsp; &nbsp;;;</p><p>&nbsp;10: len 1; hex 80; asc&nbsp; ;;</p><p>&nbsp;11: len 1; hex 81; asc&nbsp; ;;</p><p>&nbsp;12: len 5; hex 999f340000; asc&nbsp; &nbsp;4&nbsp; ;;</p><p>&nbsp;13: len 5; hex 999f369348; asc&nbsp; &nbsp;6 H;;</p><p>&nbsp;14: len 5; hex 999f370785; asc&nbsp; &nbsp;7&nbsp; ;;</p><p><br/></p><p>*** (2) WAITING FOR THIS LOCK TO BE GRANTED:</p><p>RECORD LOCKS space id 111 page no 8 n bits 224 index PRIMARY of table `nda-test`.`hotel_room_plan` trx id 22948 lock_mode X locks rec but not gap waiting</p><p>Record lock, heap no 91 PHYSICAL RECORD: n_fields 20; compact format; info bits 0</p><p>&nbsp;0: len 18; hex 333937373531363534353734383534313836; asc 397751654574854186;;</p><p>&nbsp;1: len 6; hex 0000000059a3; asc&nbsp; &nbsp; &nbsp;Y ;;</p><p>&nbsp;2: len 7; hex 25000001e523f7; asc %&nbsp; &nbsp; # ;;</p><p>&nbsp;3: len 18; hex 333932363337353835363035393232383136; asc 392637585605922816;;</p><p>&nbsp;4: len 18; hex 333937373531303639383633373130373230; asc 397751069863710720;;</p><p>&nbsp;5: len 3; hex 8fc45b; asc&nbsp; &nbsp;[;;</p><p>&nbsp;6: len 1; hex 81; asc&nbsp; ;;</p><p>&nbsp;7: len 4; hex 8000000a; asc&nbsp; &nbsp; &nbsp;;;</p><p>&nbsp;8: len 2; hex 8060; asc&nbsp; `;;</p><p>&nbsp;9: len 2; hex 801e; asc&nbsp; &nbsp;;;</p><p>&nbsp;10: len 2; hex 8000; asc&nbsp; &nbsp;;;</p><p>&nbsp;11: len 2; hex 7fff; asc&nbsp; &nbsp;;;</p><p>&nbsp;12: len 1; hex 81; asc&nbsp; ;;</p><p>&nbsp;13: len 1; hex 81; asc&nbsp; ;;</p><p>&nbsp;14: len 1; hex 81; asc&nbsp; ;;</p><p>&nbsp;15: len 5; hex 999f377000; asc&nbsp; &nbsp;7p ;;</p><p>&nbsp;16: len 1; hex 81; asc&nbsp; ;;</p><p>&nbsp;17: len 5; hex 999f377000; asc&nbsp; &nbsp;7p ;;</p><p>&nbsp;18: len 1; hex 81; asc&nbsp; ;;</p><p>&nbsp;19: len 1; hex 81; asc&nbsp; ;;</p><p><br/></p><p>*** WE ROLL BACK TRANSACTION (2)</p><p>------------</p><p>TRANSACTIONS</p><p>------------</p><p>Trx id counter 775373</p><p>Purge done for trx&#39;s n:o &lt; 775373 undo n:o &lt; 0 state: running but idle</p><p>History list length 0</p><p>LIST OF TRANSACTIONS FOR EACH SESSION:</p><p>---TRANSACTION 421751160227696, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160226784, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160225872, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160224960, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160222224, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160218576, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160216752, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160230432, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160234080, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160224048, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160223136, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160215840, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160233168, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160232256, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160211280, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160220400, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160219488, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160217664, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160214016, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160214928, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160221312, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160213104, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>---TRANSACTION 421751160212192, not started</p><p>0 lock struct(s), heap size 1136, 0 row lock(s)</p><p>--------</p><p>FILE I/O</p><p>--------</p><p>I/O thread 0 state: waiting for i/o request (insert buffer thread)</p><p>I/O thread 1 state: waiting for i/o request (log thread)</p><p>I/O thread 2 state: waiting for i/o request (read thread)</p><p>I/O thread 3 state: waiting for i/o request (read thread)</p><p>I/O thread 4 state: waiting for i/o request (read thread)</p><p>I/O thread 5 state: waiting for i/o request (read thread)</p><p>I/O thread 6 state: waiting for i/o request (write thread)</p><p>I/O thread 7 state: waiting for i/o request (write thread)</p><p>I/O thread 8 state: waiting for i/o request (write thread)</p><p>I/O thread 9 state: waiting for i/o request (write thread)</p><p>Pending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] ,</p><p>&nbsp;ibuf aio reads:, log i/o&#39;s:, sync i/o&#39;s:</p><p>Pending flushes (fsync) log: 0; buffer pool: 0</p><p>262 OS file reads, 3159588 OS file writes, 1529639 OS fsyncs</p><p>0.00 reads/s, 0 avg bytes/read, 1.11 writes/s, 0.28 fsyncs/s</p><p>-------------------------------------</p><p>INSERT BUFFER AND ADAPTIVE HASH INDEX</p><p>-------------------------------------</p><p>Ibuf: size 1, free list len 0, seg size 2, 8 merges</p><p>merged operations:</p><p>&nbsp;insert 0, delete mark 0, delete 0</p><p>discarded operations:</p><p>&nbsp;insert 0, delete mark 0, delete 0</p><p>Hash table size 138389, node heap has 47 buffer(s)</p><p>Hash table size 138389, node heap has 3 buffer(s)</p><p>Hash table size 138389, node heap has 4 buffer(s)</p><p>Hash table size 138389, node heap has 40 buffer(s)</p><p>Hash table size 138389, node heap has 12 buffer(s)</p><p>Hash table size 138389, node heap has 16 buffer(s)</p><p>Hash table size 138389, node heap has 82 buffer(s)</p><p>Hash table size 138389, node heap has 32 buffer(s)</p><p>2.04 hash searches/s, 0.42 non-hash searches/s</p><p>---</p><p>LOG</p><p>---</p><p>Log sequence number 699061172</p><p>Log flushed up to&nbsp; &nbsp;699061172</p><p>Pages flushed up to 699055032</p><p>Last checkpoint at&nbsp; 699055023</p><p>0 pending log flushes, 0 pending chkp writes</p><p>996136 log i/o&#39;s done, 0.23 log i/o&#39;s/second</p><p>----------------------</p><p>BUFFER POOL AND MEMORY</p><p>----------------------</p><p>Total large memory allocated 549715968</p><p>Dictionary memory allocated 7636685</p><p>Buffer pool size&nbsp; &nbsp;32764</p><p>Free buffers&nbsp; &nbsp; &nbsp; &nbsp;18693</p><p>Database pages&nbsp; &nbsp; &nbsp;13835</p><p>Old database pages 5087</p><p>Modified db pages&nbsp; 105</p><p>Pending reads&nbsp; &nbsp; &nbsp; 0</p><p>Pending writes: LRU 0, flush list 0, single page 0</p><p>Pages made young 16472, not young 141</p><p>0.00 youngs/s, 0.00 non-youngs/s</p><p>Pages read 225, created 13626, written 2015292</p><p>0.00 reads/s, 0.00 creates/s, 0.86 writes/s</p><p>Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000</p><p>Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</p><p>LRU len: 13835, unzip_LRU len: 0</p><p>I/O sum[37]:cur[0], unzip sum[0]:cur[0]</p><p>--------------</p><p>ROW OPERATIONS</p><p>--------------</p><p>0 queries inside InnoDB, 0 queries in queue</p><p>0 read views open inside InnoDB</p><p>Process ID=8451, Main thread ID=140274974062336, state: sleeping</p><p>Number of rows inserted 3168826, updated 925989, deleted 46558, read 9552765359</p><p>32.65 inserts/s, 0.11 updates/s, 0.00 deletes/s, 736.16 reads/s</p><p>----------------------------</p><p>END OF INNODB MONITOR OUTPUT</p><p>============================</p><p><br/></p>', 0),
	(12, 1, '赵金桥 顿刚 刘丽萍', '0000-00-00', 7, 1528857688, 1543562136, 'nda-hui会议记录之订单板块', '<p><br/></p><p>待处理订单：任务列表：点击板块，查看订单，点击锁的标识，进行锁定解锁的操作</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;订单行情：1.锁定操作标识，待定（需要与文本明显区分）；</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.关于历史纪录的展示优先级待定（产品讨论确认）;不显示订单编号，当前有效以往无效。时间：月日时分，鼠标移入，色块的效果<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.操作指南的展示<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.操作按钮尽量在第一屏显示（产品文档优化，订单内容优先级的补充）<br/></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5.确认号的编辑，没有内容时编辑，金额统一小数点，后跟元<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.未锁定状态：只能打印；锁定才可以进行其他操作。<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;全部订单：1.搜索项变化，（考虑调整为，常用条件没有隐藏，其余放在可隐藏块内）<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.订单，四列展示，然后入住人显示两行，超出，hover后出现框框显示全部入住人。<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.间数固定在左下角<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.第四列固定居中，已支付已担保状态新增两个图标<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;订单详情：左侧增加一排有效无效的展示，时间格式变化：月日十分<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;入住审核：基本格局全部订单基本一致，需要进一步调整<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;待解锁订单：入住人占范围加大<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;订单统计：格式统一，未到的月份，灰度降低<br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/></p>', 1),
	(13, 1, '顿刚，钱攀，陈波涛，管志伟', '2018-06-13', 13, 1528875521, 1528875521, '消息提醒第一期（关于订单生成的消息处理）', '<p>1. 分销端成功下单后通知到酒店&nbsp; &nbsp;（包括修改订单）</p><p><span style="white-space:pre">	</span>a: 需要二次确认&nbsp; &nbsp;orderStatus:toConfirm&nbsp; &nbsp; &nbsp;task_type:HotelMsg,HotelTask</p><p><span style="white-space:pre">	</span>b: 系统直接确认&nbsp; &nbsp;orderStatus:confirmPass&nbsp; &nbsp;task_type:HotelMsg,HotelTask&nbsp;&nbsp;</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>c. 查询条件：&nbsp; &nbsp;</p><p><span style="white-space:pre">	</span>&nbsp; &nbsp; 1. 时间</p><p><span style="white-space:pre">		</span>2. orderStatus： toConfirm， confirmPass&nbsp; &nbsp; &nbsp; task_type:HotelMsg,HotelTask</p><p><span style="white-space:pre">		</span>3. 根据订单号&nbsp; 去重&nbsp;</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>其它： flag_new&nbsp; &nbsp;新单标记（new_）&nbsp; &nbsp; &nbsp;taskStatus: 订单状态&nbsp; &nbsp;todo&nbsp; &nbsp;&nbsp;</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>order_snapshot_task: create_time&nbsp; 现在取的是order_ ：create_time,&nbsp; &nbsp;我们需要消息的create_time</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>提示方式： 您有XX条新单待处理</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p>2. 分销端操作取消订单后通知到酒店</p><p><span style="white-space:pre">	</span>a: 规则允许的直接取消&nbsp; &nbsp;orderStatus:cancel&nbsp; task_type:HotelMsg,HotelTask</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>b. 查询条件&nbsp;</p><p><span style="white-space:pre">		</span>1. 时间段&nbsp; （开始时间，结束时间）</p><p><span style="white-space:pre">		</span>2. orderStatus:cancel&nbsp; task_type:HotelMsg,HotelTask</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>提示方式： 您有XX条取消单待处理（订单号）</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p>3. 分销商操作修改入住信息并提交成功后</p><p><span style="white-space:pre">	</span>a: 现付无单保（二次确认）&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;酒店没有确认之前，分销商修改基础信息，不需要通知 ，如果酒店确认订单了， 修改信息需要通知</p><p><span style="white-space:pre">	</span>b: 现付有单保 （二次确认）&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 酒店没有确认之前，分销商修改基础信息，不需要通知 ，如果酒店确认订单了， 修改信息需要通知</p><p><span style="white-space:pre">	</span>c: 现付直接确认（有担保，无单保）&nbsp; &nbsp; &nbsp;修改信息需要通知到酒店</p><p><span style="white-space:pre">	</span>d: 预付直接确认&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;修改信息需要通知到酒店</p><p><span style="white-space:pre">	</span>e: 预付二次确认&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;酒店没有确认之前，分销商修改基础信息，不需要通知 ，如果酒店确认订单了， 修改信息需要通知</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>查询条件&nbsp;</p><p><span style="white-space:pre">	</span>&nbsp; &nbsp;1. orderStatus：confirmPass</p><p><span style="white-space:pre">	</span>&nbsp; &nbsp;1. order_snapshot_task:&nbsp; 修改联系人姓名，手机号后， 是否会有记录&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;（需要确认）（现在实际项目中需要确认，有可能没有）&nbsp;</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>提示方式：您有XX条修改单待处理（订单号）</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p>4. 截止当前系统日期10点，入住审核中现付订单有待审核状态&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;（需要确认）（现在场景只有订单表里有数据，快照表没有数据）</p><p><span style="white-space:pre">	</span>a. 需要结合订单表，不然数据统计不了</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>查询条件:&nbsp; 入住时期+1天， 早上10天， 如果还没有审核通过就需要提醒&nbsp;&nbsp;</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>提示方式: 你有XX条入住审核待处理</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p>5. 酒店端操作接受/拒绝订单时（二次确认订单），通知到分销端</p><p><span style="white-space:pre">	</span>a.&nbsp; 分销端：XX（订单号）酒店已确认/已拒绝&nbsp; &nbsp; task_type:TaMsg,TaTask</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>查询条件:&nbsp;</p><p><span style="white-space:pre">	</span>&nbsp; &nbsp; 1. 时间段</p><p><span style="white-space:pre">	</span>&nbsp; &nbsp; 2. task_type:TaMsg,TaTask</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3. orderStatus：confirmPass，refused</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>提示方式:&nbsp; XX（订单号）酒店已确认/已拒绝</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p>6. 酒店端操作允许取消变更后&nbsp; (不允许取消的订单， 酒店操作了对这个订单允许取消的操作，通知到分销端)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; （需要确认）&nbsp; &nbsp;（快照表里需要确认，有可能没有）</p><p>&nbsp; &nbsp; a. order_snapshot_task&nbsp; 是否有消息记录&nbsp; &nbsp;</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>提示方式:&nbsp; XX（订单号）酒店已允许您取消修改订单信息</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p>7. 酒店操作入住审核判定为异常订单&nbsp; &nbsp; &nbsp;（除order表外， 是否有异常订单记录表）&nbsp; &nbsp; isNormal 是否正常&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;（需要确认）&nbsp; &nbsp; (现在快照表里没有，只有订单表里有)</p><p><span style="white-space:pre">	</span>a. 提前离店</p><p><span style="white-space:pre">	</span>b. 未到店入住</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>提示方式:&nbsp; 您有XX条异常订单待处理</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p>8. 分销商提交立即确认订单成功后，提醒分销商订单已经被确认&nbsp; &nbsp; （第5条任务已经处理）</p><p><span style="white-space:pre">	</span>a.&nbsp; XX（订单号）系统已确认</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span>提示方式:&nbsp; XX（订单号）系统已确认</p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p><span style="white-space:pre">	</span></p><p>需要钱攀协助：&nbsp;</p><p>&nbsp; &nbsp; 1. 快照表的create_time现在用的order创建时间， 需要有快照产生时间</p><p>&nbsp; &nbsp; 2. 分销商操作修改入住信息并提交成功后， 需要生成快照</p><p>&nbsp; &nbsp; 3. 酒店端操作允许取消变更后，需要生成快照</p><p><br/></p>', 0),
	(14, 1, '顿刚，钱攀，陈波涛，管志伟，张高鹏，缪灵健，施振国', '2018-06-13', 13, 1528884886, 1528884886, 'API对接方案讨论', '<p>1. 接口登录&nbsp;&nbsp;</p><p><span style="white-space:pre">	</span>a:登录后返回sessionID，根据sessionID能知道属于哪个渠道</p><p><span style="white-space:pre">	</span>b: 采用appkey appsec 模式</p><p>2. 获取酒店列表</p><p>3. 获取酒店详细信息 （根据酒店code，获取酒店数据）</p><p>4. 获取酒店物理房型信息</p><p>5. 获取酒店销售房型信息</p><p>6. 获取销售房型每日价格，库存明细</p><p>7. 推送销售房型每日价格，库存明细&nbsp; &nbsp;（要做一个任务配置的功能，然后配置接收地址）</p><p><br/></p><p>1. 下单前可订检查接口</p><p>2. 创建订单接口</p><p>3. 修改订单接口</p><p>4. 取消订单接口</p><p>5. 查询订单接口</p><p><br/></p><p>支付问题</p><p>1. 支付 通过订单号获取支付地址，返回给商户</p><p>2. 支付宝帐号绑定在我们系统，做免密支付</p><p><br/></p>', 0),
	(15, 1, '钱攀，缪灵健，梁其滢，施振国，俞栋炜，刘丽萍，顿刚，章宇飞', '2018-06-20', 2, 1529478446, 1529478446, '自定义渠道', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>酒店开业添加类似平台的自定义渠道</p></li><li><p>自定义渠道的销售房型下线，则需要在平台的渠道区查找是否有销售计划</p></li><li><p>分销商在酒店的自定义渠道只能出现一次</p></li><li><p>分销端价格展示</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p>销售房型价格自建渠道优先，如果自建渠道下线，以平台（包括渠道级别）计算出的价</p></li></ol></ol><div>待定</div>', 0),
	(16, 1, '施振国、缪灵健、章秀蓉、杨淇滢', '2018-06-21', 6, 1529576340, 1529576340, '酒店给客户开通账户与管理', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>酒店邀请分销客户入驻，后台生成邀请链接形式发送给分销商进行注册：链接上附带酒店身份信息。</p></li><li><p>客户注册时需要填写公司信息，需要验证帐号的重复性（重复需要跳转至使用帐号进行关联页面）。再跳转分销自助开通帐号页面。</p></li><li><p>用户提交后，在ta-company ，ta-user表中插入用户数据，再在中间表中建立起酒店与分销商的关系。</p></li><li><p>&nbsp;酒店新建自定义渠道后可以在分销商维护中加入自己的客户。非该酒店客户则无法搜索到。</p></li></ol><p><br/></p>', 0),
	(17, 1, '钱攀、顿刚', '2018-06-27', 3, 1530084235, 1530168941, '支付流水问题', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p><span style="text-decoration: line-through;">&nbsp;支付流水的ID不能唯一，查询中会有重复<br/></span></p></li><li><p><span style="text-decoration: line-through;">查找未处理的支付流水的代码去掉</span></p></li><li><p>测试在线付的优惠</p></li><li><p>流水表里的ordertype不用存储到数据库</p></li><li><p>支付时，如果已有未处理完成的流水，则更新</p></li></ol>', 0),
	(18, 1, '施振国、缪灵健、章秀蓉、杨淇滢', '2018-06-29', 6, 1530265437, 1530265437, '酒店最低起订价展示问题', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>库存包含：价格、房态、库存数量（专享配额、库存数量）、取消政策、提前预定、起订间数、起订晚数、房价的有效状态、回收时间、销售房型有效状态。</p></li><li><p>收益包含：加幅、返佣、上线状态、客户类型、房态。</p></li><li><p>自建渠道：加幅、返佣、上线状态、房态</p><p><br/></p></li></ol><p>影响计算的因素有哪些</p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>库存中：价格、房态、库存数量、提前预定、房价的有效状态、回收时间、销售房型有效状态。</p></li><li><p>收益包含：加幅、返佣、上线状态、客户类型、房态</p></li><li><p>自建渠道：加幅、返佣、上线状态、房态<br/></p><p></p></li></ol><p><br/></p><p><br/></p><p>计算逻辑如下：（忽略分销商级别的价格计算）</p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>判断客户类型。</p></li><li><p>售卖房型在收益中上线并且库存中售卖房型有效。</p></li><li><p>计算收益中新增价格字段中的价格取平均值。（此处需要新增字段当日房型总价）</p></li></ol><p><br/></p><p>修改内容：1.最长搜索时间为90天。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.库存内容开关房：同步关闭收益中的房态。库打开可以选择性打开对应收益中的房态。<br/></p><p><br/></p>', 0),
	(19, 1, '顿刚  钱攀  陈波涛  管志伟', '2018-07-03', 8, 1530601702, 1530601702, '关于对外API讨论', '<p>1.API授权管理</p><p>&nbsp; 用户添加账号存在疑问,</p><p>&nbsp; 在用户表中加一个类型字段区分真实用户和api接口用户</p><p>&nbsp; 账号ID作为key</p><p>&nbsp; 使用MD5加密后放入到密码中当做秘钥使用</p><p>2.酒店静态数据</p><p>&nbsp; 分销商下单没有地域上的限制</p><p>&nbsp; 传入城市编码<span style="white-space:pre">	</span>返回当时城市酒店</p><p>&nbsp; 不传入城市编码<span style="white-space:pre">	</span>返回所有城市酒店</p><p>&nbsp; CODE + 酒店名称 + 地址</p><p>&nbsp;&nbsp;</p><p>&nbsp; 图片暂时不提供</p><p>&nbsp; 设施</p><p>&nbsp;&nbsp;</p><p>4.支付过程中&nbsp; 需要及时的查询数据库</p><p>&nbsp; 接口提供的是支付宝连接(需要在进行相关讨论)</p><p>&nbsp; 相关下单后和普通订单的情况相同</p><p>&nbsp;&nbsp;</p><p>&nbsp; 查询订单接口</p><p>&nbsp; 订单状态通知&nbsp; &nbsp; ---》通过消息队列来通知</p><p><br/></p>', 0),
	(20, 1, '陈波涛 钱攀 管志伟', '2018-07-04', 8, 1530684616, 1530759677, 'message二期', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>提供标准接口供记录消息<br/></p></li><li><p>数据库表格如下：</p><p>消息类型为hotel,ta,admin</p><p>Message表：</p><p><span style="white-space:pre"></span>id<span style="white-space:pre"></span>//消息ID</p><p><span style="white-space:pre"></span>send_id<span style="white-space:pre"></span>//发送方ID</p><p><span style="white-space:pre"></span>send_type<span style="white-space:pre"></span>//发送方类型</p><p><span style="white-space:pre"></span>title<span style="white-space:pre"></span>//消息标题</p><p><span style="white-space:pre"></span>message_text<span style="white-space:pre"></span>//消息内容</p><p><span style="white-space:pre"></span>create_id<span style="white-space:pre"></span>//消息创建人ID</p><p><span style="white-space:pre"></span>create_name<span style="white-space:pre"></span>//消息创建人名称</p><p><span style="white-space:pre"></span>create_time<span style="white-space:pre"></span>//消息创建时间</p><p><span style="white-space:pre"></span>update_id<span style="white-space:pre"></span>//消息更新人ID</p><p><span style="white-space:pre"></span>update_name<span style="white-space:pre"></span>//消息更信任姓名</p><p><span style="white-space:pre"></span>update_time<span style="white-space:pre"></span>//消息更新时间</p><p><span style="white-space:pre"></span>priority<span style="white-space:pre"></span>//优先级</p><p><span style="white-space:pre"></span>send_status<span style="white-space:pre"></span>//消息类型</p><p><span style="white-space:pre"></span>overdue_time<span style="white-space:pre"></span>//过期时间</p><p>MessageReader表:</p><p><span style="white-space:pre"></span>id<span style="white-space:pre"></span>//主键ID</p><p><span style="white-space:pre"></span>messageId<span style="white-space:pre"></span>//对应message表中ID</p><p><span style="white-space:pre"></span>read_id<span style="white-space:pre"></span>//接收方</p><p><span style="white-space:pre"></span>read_type<span style="white-space:pre"></span>//接收方类型</p><p><span style="white-space:pre"></span>status<span style="white-space:pre"></span>//0-未读&nbsp; 1-已读</p><p><span style="white-space:pre"></span>enabled<span style="white-space:pre"></span>//0-无效&nbsp; 1-有效</p><p><span style="white-space:pre"></span>handler_id<span style="white-space:pre"></span>//处理人ID</p><p><span style="white-space:pre"></span>handler_time<span style="white-space:pre"></span>//处理人操作时间</p><p><span style="white-space:pre"></span>update_id<span style="white-space:pre"></span>//更新认ID</p><p><span style="white-space:pre"></span>update_name<span style="white-space:pre"></span>//更新人姓名</p><p><span style="white-space:pre"></span>update_time<span style="white-space:pre"></span>//更新时间</p><p><span style="white-space:pre"></span>create_id<span style="white-space:pre"></span>//创建人ID</p><p><span style="white-space:pre"></span>create_name<span style="white-space:pre"></span>//创建人姓名</p><p>&nbsp; &nbsp; &nbsp; &nbsp; create_time&nbsp; &nbsp; &nbsp;//创建时间</p></li></ol><p>3.存储的过程&nbsp; &nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;首先在消息产生的时候,把消息相关信息存储到message表中，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;默认为直接触发记录(messageType值为0)，把相对应的消息 的接收方存储到messageReader表中，用户在登录后查询MessageReader中对应的未读消息.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果消息是通知到酒店端和分销端所有入驻商家，(messageType值为1) ，则在用户登录过后，去查询message表，并根据过期的时间，筛选出未读的通知，并写入到messageReader表中，此时状态为已读状态.</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;消息的最终是分发给团体(酒店,分销)，而不是个人。</p><p>4.根据消息的不同去设置消息的持久化(需求部分是需要持久化显示的消息/部分是需要显示通知后，根据通知方收到消息后并查阅后遍不再显示)并记录到message表</p><p>5.非一期(这里指的订单)的消息，会单独有页面去展示持久化消息列表,标记已读或者未读,在列表页面点击对应的消息,会出现弹框进行查看,并相应的改变状态</p><p>6.未持久化消息在接收方通知后, 用户点击后消息的处理人变更改变,不再弹出,若不进行操作，会继续进行弹出。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<br/></p><p style="margin-top: 0;margin-bottom: 0;margin-left: 0in;text-indent: 0in"><span style="font-size:19px;font-family: 等线;color:white">首先在消息产生的时候</span><span style="font-size:19px;font-family:Calibri;color:white">,</span><span style="font-size:19px;font-family:等线;color:white">把消息相关信息存储到</span><span style="font-size:19px;font-family:Calibri;color:white">message</span><span style="font-size: 19px;font-family:等线;color:white">表中，</span></p><p style="margin-top: 0;margin-bottom: 0;margin-left: 0in;text-indent: 0in"><span style="font-size:19px;font-family: 等线;color:white">默认为直接触发记录</span><span style="font-size:19px;font-family:Calibri;color:white">(messageType</span><span style="font-size:19px;font-family:等线;color:white">值为</span><span style="font-size:19px;font-family:Calibri;color:white">0)</span><span style="font-size:19px;font-family:等线;color:white">，把相对应的消息 的接收方存储到</span><span style="font-size:19px;font-family:Calibri;color:white">messageReader</span><span style="font-size:19px;font-family:等线;color:white">表中，用户在登录后查询</span><span style="font-size: 19px;font-family:Calibri;color:white">MessageReader</span><span style="font-size:19px;font-family:等线;color:white">中对应的未读消息</span></p><p style="margin-top: 0;margin-bottom: 0;margin-left: 0in;text-indent: 0in"><span style="font-size:19px;font-family: 等线;color:white">如果消息是通知到酒店端和分销端所有入驻商家，</span><span style="font-size:19px;font-family:Calibri;color:white">(messageType</span><span style="font-size:19px;font-family:等线;color:white">值为</span><span style="font-size:19px;font-family:Calibri;color:white">1) </span><span style="font-size:19px;font-family:等线;color:white">，则在用户登录过后，去查询</span><span style="font-size:19px;font-family:Calibri;color:white">message</span><span style="font-size: 19px;font-family:等线;color:white">表，并根据过期的时间，筛选出未读的通知，并写入到</span><span style="font-size:19px;font-family:Calibri;color:white">messageReader</span><span style="font-size:19px;font-family:等线;color:white">表中，此时状态为已读状态</span></p><p style="margin-top: 0;margin-bottom: 0;margin-left: 0in;text-indent: 0in"><br/></p><p style="margin-top: 0;margin-bottom: 0;margin-left: 0in;text-indent: 0in"><span style="font-size:19px;font-family: 等线;color:white">消息的最终是分发给团体</span><span style="font-size:19px;font-family:Calibri;color:white">(</span><span style="font-size:19px;font-family:等线;color:white">酒店</span><span style="font-size:19px;font-family:Calibri;color:white">,</span><span style="font-size:19px;font-family:等线;color:white">分销</span><span style="font-size:19px;font-family:Calibri;color:white">)</span><span style="font-size:19px;font-family:等线;color:white">，而不是个人。</span></p><p><br/></p>', 0),
	(21, 1, '施振国，管志伟，刘丽萍，赵金桥', '0000-00-00', 7, 1530777120, 1543562144, '消息通知-', '<p>确认需求：</p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>消息已读，关联个人，而非公司；</p></li><li><p>重要消息页面，包含：标题，日期（倒叙排列），内容；点击，可查看详情（消息状态变更为已读）；</p></li><li><p>重要消息通知，订单通知，在一个弹框内出现；</p></li><li><p>二期所有消息弹框出现后遍不会再以弹框形式出现，消息全部为持久化消息</p></li></ol><p>消息：</p><p>发送：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;1.数据变动引起（比如佣金预计可用少于3天），推送；</p><p>&nbsp;&nbsp;&nbsp;&nbsp;2.主动操作引起的状态变化：比如，平台端审核通过，发送给酒店端；</p><p><br/></p>', 1),
	(22, 1, '顿刚，施振国，刘丽萍，赵金桥', '0000-00-00', 7, 1530783692, 1543562150, 'UI库存管理/收益管理/分销管理/财务管理/个人设置/消息通知', '<p>库存管理/收益管理：</p><p>日历表格：上下排布；日期和周合并；</p><p>交互：滑动悬停；悬停内容：操作项和头部；鼠标移入数字，解释数字意思；</p><p>库存：日志</p><p>收益：增加激活；</p><p>分销管理：</p><p>分销级别：添加编辑按钮，“查看”更名日志</p><p>分销级别：个性化：调整全选位置</p><p>分销额度：数字&gt;80%标红</p><p>额度使用明细：顶部框，结构变化；表格内容变更</p><p>维护分销商：宽度从600变为一般宽度；</p><p>财务管理：发票</p><p>体现设置：未设置：“null”改为“未设置”；</p><p>佣金管理：待支付状态文字颜色danger ；提示样式更改，充值按钮变色；操作为无，显示“--”；<br/></p><p>账单管理：账单出账：创建订单变更按钮</p><p>账单管理：账单结算+账单详情+账单出账：表格布局变更为三列新结构；操作项不变，操作状态变化<br/></p><p>个人设置：账户绑定页面取消；在个人信息里以弹框形式操作绑定；添加编辑</p><p>个人设置：修改密码：</p><p>员工管理：新增部门：弹框；新页面不要了。<br/></p><p>员工管理：全部员工为默认页面，没有操作项；</p><p>员工管理：员工如果是管理员；该卡片没有禁用按钮，标识为管理员； 禁用状态，为灰色；</p><p>登陆：页头：文本变化，加了官网跳转；form，文本变化</p><p>重要通知：新增已读/未读页面；（二版才有）<br/></p>', 1),
	(23, 1, '施振国、缪灵健、钱攀、顿刚、章秀蓉、梁其滢', '2018-07-04', 6, 1531106697, 1531106697, '酒店自建渠道给分销开账号会议', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>酒店给分销开账号通过邀请形式：后台生成链接后发送给分销商由分销商自己完成注册。链接上附带酒店与渠道信息。方便用户完成注册后即可归类到对应的渠道。</p></li><li><p>链接可以对应渠道生成，可邀请分销商加入现有的平台渠道，也可以自建渠道后邀请分销加入。</p></li><li><p>分销注册页面包含无账号自助注册模块和已有账号绑定模块。可以通过注册的公司名称、地址进行重复注册提醒。</p></li><li><p>分销商完成信息注册后，自助开通账号，账号开通后即可登录。</p></li><li><p>分销注册完成后，酒店需要在后台同意分销。分销方可查询到对应的酒店价格。</p></li><li><p>酒店邀请分销后可以自定义进行对分销商的渠道进行更改。</p></li><li><p>具有平台身份的分销商在酒店对其进行自定义渠道归类后，只展示酒店自定渠道身份价格。其它未对该分销商进行渠道归类的酒店则展示平台定义的渠道身份价格。</p></li><li><p>第三方级别设置，酒店在给分销分配平台定义渠道后，可以进行第三方级别设置，设置级别后则对应分销商当前所属渠道的第三方级别进行展示。自定义渠道无法在分销商级别中设置级别。可在自定义渠道进行价格设置。当酒店进行渠道修改时，如果分销商当前分类渠道属于平台，则提示用户会在当前归属渠道中移除后对一个移除其所属的第三方等级的价格不在享受。如果是自定义渠道则提示当前渠道价格不再享受。更改渠道分类后将该分销在原有的自定义级别中移除。</p></li></ol>', 0),
	(24, 1, '施振国、缪灵健、钱攀、顿刚、章秀蓉、梁其滢、陈政、张宇飞、刘丽萍、张高鹏', '2018-07-10', 6, 1531190934, 1531190934, '酒店给分销开账号的原型确认', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>酒店自建渠道添加客户后，客户会归类到分销客户管理中。比如客户被酒店分配到自建渠道中的vip1.&nbsp; 在客户管理归类中客户所属渠道类型会展示该分销商为vip1。</p></li><li><p>分销商客户管理中的停止合作，用户可以看到酒店，但无法看到该酒店的价格（类型屏蔽功能）。</p></li><li><p>酒店邀请客户后，需要酒店同意。</p></li><li><p>酒店在后台生成链接后不需要失效时间，目前永久有效。</p></li><li><p>酒店端需要相应加入管理权限。包括同意/忽略，切换渠道，停止合作。</p></li><li><p>酒店创建平台身份链接，发送分销商，分销商注册成功。该分销商的所归属的平台只局限于该酒店对其授予的身份。分销商未和平台合作的时候，该分销商在平台所属的身份始终为空。</p></li><li><p>邀请链接直接生成，以列表形式展示。无需用户再次操作点击生成。</p></li><li><p>分销商未和平台合作时，展示预定页面为酒店列表页面，列表页面展示分销商和酒店申请合作的酒店列表。和平台合作后进入现有预定页面。</p></li><li><p>公司名称一致情况下即无法重复注册，只可以操作已有账号绑定。</p></li><li><p>登录账号时需要判断该账号或者员工账号所属公司的平台身份是否为空。<br/></p></li></ol>', 0),
	(25, 1, '顿、钱、陈', '2018-07-16', 3, 1531735582, 1531735934, '帐号合并', '<p>1【小YI】&nbsp;代理</p><p>2 【开元】集团 --一种特殊的代理</p><p>3 【民宿】单体酒店</p><p><br/></p><p>输出的模式有两种1.酒店直连&nbsp; &nbsp;2.代理商代理（商业模式不支持）<br/></p><p><br/></p><p>钱包是通过销售房型里面的supplier_id来确定的</p><p>代理账号和单体帐号获取销售房型的逻辑是一致的，通过supplier_id和hotel_id定位到某家酒店的销售房型</p><p><br/></p><p>需要调整的逻辑：</p><p>Hotel和TaCompany的合并，</p><p>酒店端注册时，默认渠道类型是协议公司（待跟产品确认）</p><p>EbkUser和TaUser合并，在model上增加渠道的字段，如果是员工帐号，渠道的值为空；如果是直连&nbsp; API帐号，那么就设定该直连渠道的ID；</p><p>当用户由酒店切换到分销端，如果渠道的值为空，那么以酒店的渠道类型读取对应的渠道价格；如果不为空，就以帐号所属代理或者说是单体所拥有的酒店数据；</p><p>关于开通酒店直连的渠道，&nbsp;在对应的直连渠道后添加帐号即可；</p><p><br/></p><p>增加直连代付</p><p><br/></p>', 0),
	(26, 1, '钱攀，施振国，俞栋炜，顿刚', '2018-07-17', 1, 1531793748, 1531793748, '酒店自建账号需求补充', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>在平台后台，未跟进的酒店不显示酒店自建账号未申请的账号</p></li><li><p>申请平台账号，需要先选平台渠道</p></li><li><p>以分销企业为管理的最小单位，设置禁用和激活。平台和酒店各自控制自己的渠道状态<br/></p></li></ol>', 0),
	(27, 1, '钱，顿', '2018-07-17', 3, 1531799243, 1532397971, 'TaUse和EBKUser、Tacompany和Hotel合并 重构', '<p>合并分为：</p><p>TAcompany和Hotel的合并；</p><p>TaUser和EbKUser的合并；</p><p><br/></p><p>第一阶段：</p><p>1.1 TAcompany和Hotel的合并（只合并ID，合并原有的ID（ID,open_ta））</p><p><span style="white-space:pre"></span>1.1.1 添加酒店信息和分销信息时先创建ID（注册和平台添加页面，酒店端自建渠道帐号）</p><p>1.1.2 ID服务化</p><p>1.1.3 shiro 验证可插拔</p><p>酒店端和分销端用户验证条件是否有区别。酒店自建渠道和平台渠道验证区别。</p><p>1.2 TaUser和EbKUser的合并(只使用一张表User，注意解决用户名重复的问题)</p><p><span style="white-space:pre"></span>1.2.1 先合并数据，增加渠道字段</p><p>渠道字段：代表所属渠道，代表最高级别</p><p><span style="white-space:pre"></span>1.2.2 修改入口的shiro的用户表的配置</p><p><span style="white-space:pre"></span>1.2.3 在酒店和分销入口mapper文件配置,修改用户表为user</p><p><span style="white-space:pre"></span>1.2.4&nbsp; 平台也要配置酒店和分销的用户的mapper文件</p><p>第二阶段:&nbsp; 让酒店支持渠道的功能</p><p><br/></p>', 0),
	(28, 1, '钱攀，顿刚，俞栋炜', '2018-07-18', 5, 1531899850, 1531899850, '酒店邀请分销商会议记录', '<p>&nbsp; 1&nbsp; &nbsp; afterlogin&nbsp; &nbsp; &nbsp; session&nbsp; 记录&nbsp; &nbsp;plafformChannelType，hotelChannelType&nbsp; &nbsp;(session优化)。</p><p>&nbsp; 2&nbsp; &nbsp; 酒店详情页面的控制 session的hotelchanneltype的map 。</p><p>&nbsp; 3&nbsp; &nbsp; 平台审核的status（判断平台身份是否有限）。</p><p>&nbsp; 4&nbsp; &nbsp; 一个分销商只有一个平台身份，但是分销商是下线状态，去到一个页面logout。</p>', 0),
	(29, 1, '技术全员', '2018-07-19', 3, 1531969339, 1531969339, 'ID服务', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>&nbsp;修改本地maven的settings.xml</p></li><li><p>dubbo-resolve.properties拷贝到当前系统的用户目录下，主要是为了本地开发测试</p></li><li><p>注意一下本地的eclipse的ID的maven的user-setting,</p></li><li><p>面向接口编程</p></li></ol>', 0),
	(30, 1, '钱，顿，陈', '2018-07-20', 3, 1532059174, 1532059174, '价格计算优化', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p><span style="text-decoration: line-through;">&nbsp;当sale_room_plan设置某个时间区间的固定价格时，需要同步更新对应房型所有渠道和等级的价格p</span></p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p><span style="text-decoration: line-through;">先查询这个时间区间的有效的saleroomplan，计算出update这个saleroomplan的固定价格的执行命令</span></p></li><li><p><span style="text-decoration: line-through;">先查询这个时间区间的有效的channelplan(同步库存更新时，渠道和等级不会增加库存日期增量，所以不存在insert语句)&nbsp;，计算出update这个channelplan的固定价格的执行命令;update table set price = p+&nbsp; scope (预付)&nbsp;或者&nbsp;price = p（现付）；（其它渠道类型类推（平台和自定义渠道））</span></p></li><li><p><span style="text-decoration: line-through;">先查询某个渠道的级别这个时间区间的有效的channelplan，计算出update这个channelplan的固定价格的执行命令; update table set price = p+&nbsp;parentscope+ scope (预付)&nbsp;或者&nbsp;price = p（现付）；（其它渠道类型类推（平台和自定义渠道））</span></p></li></ol><li><p><span style="text-decoration: line-through;">当更新渠道价格时，</span></p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p><span style="text-decoration: line-through;">查询这个时间区间的有效的saleroomplan，</span></p></li><li><p><span style="text-decoration: line-through;">查询这个时间区间的有效的channelplan</span></p></li><li><p><span style="text-decoration: line-through;">计算出update和insert这个channelplan的固定价格的执行命令; update table set price = p+&nbsp; scope (预付)&nbsp;或者&nbsp;price = p（现付）；</span></p></li><li><p><span style="text-decoration: line-through;">先查询某个渠道的级别这个时间区间的有效的channelplan，(只有update，原理同上)update table set parentscope = channel_scope ，&nbsp;price = price+channel_scope</span></p></li></ol></ol>', 0),
	(31, 1, '钱，顿，陈', '2018-07-20', 3, 1532069143, 1532069143, '价格计算优化第二版', '<p>在目前的hotel_channel_plan表中增加basePrice, parentScope,date.</p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>在 库存管理界面中变更价格,&nbsp;先查询saleRoomPlan中是否有数据，如果没有，先创建；</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p>update saleRoomPlan set basePrice = 100 where date in () and saleRoomId in ()</p></li><li><p>每个渠道同步变更，只有更新操作，包括级别update&nbsp;channelplan set basePrice = 100 where date in () and saleRoomId in ()&nbsp;</p></li></ol><li><p>在收益管理界面里修改价格，先查询channelplan&nbsp;中是否有数据，如果没有，先创建；</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p>update&nbsp;channelplan set&nbsp;scope = ? where date in () and saleRoomId in () and channelTypeId in ()</p></li><li><p>修改等级中的数据，只有更新操作，&nbsp;update&nbsp;channelplan set&nbsp;parentScope= ? where date in () and saleRoomId in () and ParentChannelTypeId in ()</p></li></ol><li><p>自定义级别中修改价格，先查询channelplan&nbsp;中是否有数据，如果没有，先创建；</p></li><ol class=" list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p>update&nbsp;channelplan set scope= ? where date in () and saleRoomId in () and ChannelTypeId in ()<br/></p></li></ol><p><br/></p></ol><p><br/></p>', 0),
	(32, 1, '钱，顿，陈', '2018-07-20', 3, 1532071134, 1532079400, '价格计算优化第三版', '<p><img src="/upload/storage/image/2018-07-20/1b343163-e442-4795-a018-6d379e366a06.png" title="1b343163-e442-4795-a018-6d379e366a06.png" class="ueditor-insert-img" alt="price.png"/></p><p>在目前的hotel_channel_plan表中增加basePrice, parentScope,date.</p><p><br/></p><p>1. 在库存管理界面中变更价格,</p><p><span style="white-space:pre"></span>先查询saleRoomPlan中是否有数据，如果没有，先创建；</p><p><span style="white-space:pre"></span>update saleRoomPlan set basePrice = 100 where date in () and saleRoomId in ()</p><p><span style="white-space:pre"></span>每个渠道同步变更，只有更新操作，包括级别update channelplan set basePrice = 100 where date in () and saleRoomId in ()&nbsp;</p><p><br/></p><p>2. 在收益管理界面里修改价格，</p><p><span style="white-space:pre"></span>根据date和saleRoomId查询saleRoomPlan中是否有数据</p><p><span style="white-space:pre"></span>if 有数据</p><p><span style="white-space:pre"></span>&nbsp; &nbsp; basePrice = saleRoomPlan.basePrice,</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;parentScope = 0</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;查询channelplan 中是否有数据，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>if 有数据</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>update channelplan set scope = ? where date in () and saleRoomId in () and channelTypeId in ()</p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="white-space:pre"></span>else insert channelplan</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;修改等级中的数据，只有更新操作，</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;update channelplan set parentScope= ? where date in () and saleRoomId in () and ParentChannelTypeId in ()</p><p><span style="white-space:pre"></span></p><p><span style="white-space:pre"></span>else 结束逻辑</p><p><br/></p><p>3.自定义级别中修改价格</p><p><span style="white-space:pre"></span>根据date和saleRoomId查询saleRoomPlan中是否有数据</p><p><span style="white-space:pre"></span>if 有数据</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;basePrice = saleRoomPlan.basePrice</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;根据date和channelTypeID(自定义级别对应的平台渠道)查询channelplan是否有数据</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;if 有数据</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;parentscope = scope</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;else parentscope = 0</p><p><span style="white-space:pre"></span>&nbsp;&nbsp;&nbsp;&nbsp;insert或者update channelplan</p><p><span style="white-space:pre"></span>else 结束逻辑</p><p><br/></p><p><span style="white-space:pre"></span>先查询channelplan 中是否有数据，如果没有，先创建；</p><p><span style="white-space:pre"></span>update channelplan set scope= ? where date in () and saleRoomId in () and ChannelTypeId in ()</p><p><br/></p><p><br/></p><p><br/></p>', 0),
	(33, 1, '钱攀 陈政 施振国', '2018-07-20', 12, 1532073510, 1532073510, '正式帐号过滤测试酒店会议记录', '<p>需求描述：</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; color: rgb(20, 20, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">1.目前生产环境中，存在很多测试酒店。需要在分销端进行过滤。</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; color: rgb(20, 20, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">2.测试账号可以看到全部酒店。正式分销账号过滤。</p><p><br/></p><p>结论：</p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>在酒店信息管理列表增加一项：酒店性质：真实/测试。点击详情页可编辑修改酒店性质。</p></li><li><p>在分销公司管理列表增加一项：公司性质：真实/测试。点击编辑可更改酒店性质</p><p>酒店和分销注册后默认都为真实</p><p></p><p></p></li></ol><p><br/></p><p>酒店邀请分销商细节点补充</p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>自定义渠道中只能搜索出合作中的分销商</p></li><li><p>一家合作中的分销商从自定义渠道移除后，分销客户中合作状态不变，渠道类型变为未设置<br/></p></li></ol>', 0),
	(34, 1, '赵金桥 刘丽萍 施振国', '0000-00-00', 7, 1532400947, 1543562155, '酒店端hzui定稿会议', '<p>一些细节：</p><p>index：提交与取消的样式 &nbsp;☑️</p><p>基础信息：初始页面有必填标记(示例悬停显示)，一般状态下没有。&nbsp;&nbsp;☑️</p><p>酒店政策：修改时，添加必填项（用到再进一步确认必填。全部必填，改为单选按钮），宠物政策，单选按钮；☑️</p><p>新增房型：统一交互：可操作搭配隐藏功能；；☑️</p><p>图片：选择再靠近右上角，点击整张范围都是被选中；☑️</p><p>modal：bottom距离：先把padding-bottom去掉；☑️</p><p>待处理订单：如果历史订单大于一条默认展开，否则不展开；订单信息后无标签&nbsp;</p><p>订单详情：不需要有操作指南；不一定需要锁图标（需要有告诉用户订单状态的形式）；☑️</p><p>重置按钮，变成文字；☑️</p><p>全部订单：订单展示：优先条数；调整 待确认</p><p>待解锁订单：行高去掉，添加重置。去掉筛选&nbsp;☑️</p><p>库存管理：</p><p>操作固定项，加上下padding；&nbsp;☑️</p><p>日历表格中间，数字部分，hover给出对应解释：</p><p>就是上面的文字解释；头部解释部分：添加*的解释；&nbsp;☑️</p><p>全部状态的时候，会有无效有效的区分，无效的样式添加类比激活的样式；</p><p>收益管理：佣金对应显示当天，加幅暂时不显示，保持和线上一致。添加自定义渠道页面。</p><p>分销额度设置：已用额度》=80%变红，其他都是正常色；操作添加：使用明细的按钮，跳转到现在的查看页面；查看部分修改为：使用明细改为详情</p><p>分销级别管理：新增级别，弹框，维护分析商是现在新增级别页面☑️</p><p>分销管理：添加客户管理页面☑️</p><p>佣金管理：头部变化；佣金明细在前；操作项：日志没有；待支付下。支付在前，作废在后。其他状态，短横表示；关于头部金额颜色，变为正常色，说明为灰色；☑️</p><p>发票管理：红色色块不要了。发票记录文字不要了☑️</p><p>首款设置：授信支付，默认关闭，需要手动给开启；</p><p>账单详情：添加返回账单结算的按钮☑️</p><p>个人信息：icon不要了。头部添加编辑操作☑️</p><p>修改密码：原密码框框后会有忘记密码跳转操作；没有其他方式的操作☑️</p><p>部门管理：图标添加上去；☑️</p><p><br/></p><p>订单排版：主要是高低，展示内容条数的问题，进一步可以优化</p><p>1.消息点进去的页面☑️</p><p><br/></p><p><br/></p>', 1),
	(35, 1, '钱，顿，陈', '2018-07-27', 3, 1532672575, 1532675109, '对外API ', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>&nbsp;对外提供库存统一以非立即方式提供（计算方式是非立即+立即+协议公司的专享）</p></li><li><p>如果使用代付的结算方式，酒店会收到很多代付的订单，酒店和谁结算代付的订单</p></li><li><p>代付的订单通过打个标记</p></li></ol><p>接口登录：&nbsp; 登录后返回sessionID，根据sessionID能知道属于哪个渠道和采用appkey appsec 模式</p><p>获取酒店列表</p><p>获取酒店详细信息 （根据酒店code，获取酒店数据）</p><p>获取酒店物理房型信息</p><p>获取酒店销售房型信息</p><p>获取销售房型每日价格，库存明细</p><p>推送销售房型每日价格，库存明细&nbsp; &nbsp;（要做一个任务配置的功能，然后配置接收地址）</p><p><br/></p><p>下单前可订检查接口</p><p>创建订单接口</p><p>修改订单接口（暂时不处理）</p><p>取消订单接口</p><p>查询订单接口</p><p><br/></p><p>支付问题以代付方式处理</p>', 0),
	(36, 1, '钱攀，顿刚', '2018-07-30', 1, 1532923107, 1532923107, 'TMC第一期API接口商定', '<p>代码组织方式</p><p><br/></p><p>@RestController</p><p>class IndexController {</p><p><br/></p><p>&nbsp; &nbsp; @RequestMapping(&quot;/&quot;)</p><p>&nbsp; &nbsp; public Oject process(){</p><p>&nbsp; &nbsp; &nbsp; &nbsp; String serviceId = &quot;query.city.list&quot; + &quot;.&quot; + &quot;1.0&quot;;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; IService service = (IService) getBean(serviceId);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if(null != service) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new Exception(&quot;service not existed&quot;);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if(service.supportMethod(httpRequest.getMethod())){</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return service.execute(map);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; } else {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new Execption(&quot;method error&quot;);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; }</p><p>}</p><p><br/></p>', 0),
	(37, 1, '顿、钱', '2018-08-06', 3, 1533552645, 1533552645, '给TMC渠道的接口', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>接口文档</p></li><li><p>关于订单支付的解决的方式1）直接给TMC渠道支付链接 2） 代收代付的标记做出来，如果订单有代收代付的标记，不需要在系统里面支付</p></li><li><p>看一下泰坦文档里的支付方式</p></li><li><p>结构化参数和签名</p></li></ol>', 0),
	(38, 1, '技术全员、缪、章', '2018-08-09', 3, 1533816329, 1533816329, '亚朵数据讨论', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>&nbsp;酒店电话、酒店名称、酒店地址&nbsp;全匹配<br/></p></li><li><p>&nbsp;待确认事项：售卖的房型默认上线渠道</p></li></ol><p>&nbsp; 3. 亚朵集团上线后只是针对于TMC用户，待高鹏确认</p><p>&nbsp; 4.&nbsp;酒店静态数据的同步由switch&nbsp;来处理；<span style="text-decoration: line-through;">NDA后台发起，在哪个界面操作，如何操作</span></p>', 0),
	(39, 1, '技术和产品', '2018-08-21', 12, 1534819051, 1534819051, '房仓物理房型的匹配与导入讨论', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>运营筛选酒店名单，导入switch ，点击确认后，创建酒店信息，建立酒店与供应商的关系，物理房型与销售房型的匹配。</p></li></ol><p>&nbsp; 2. 匹配：物理房型100%相同，成功匹配，没有100%，需要人工操作。<br/></p>', 0),
	(40, 1, '技术以及产品', '2018-08-21', 5, 1534839450, 1534839450, '房仓的第二次会议', '<p>&nbsp; &nbsp; &nbsp;1 :&nbsp; &nbsp;落地方案&nbsp; 房仓的静态信息保存到数据库。省份，城市，行政区。</p><p>&nbsp; &nbsp; &nbsp;2 :&nbsp; &nbsp;缪老师理解支付流程与文档不一致。</p><p>&nbsp; &nbsp; &nbsp;3： 我们提供的都是非立即确认，而房仓有2种配额。</p>', 0),
	(41, 1, '技术部', '2018-09-10', 3, 1536544800, 1536544800, '房仓上线前准备', '<ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>&nbsp;早餐测试（施）</p></li><li><p>&nbsp;房仓正式环境的帐号（钱）</p></li><li><p>物理房型的信息不全（俞）</p></li><li><p>酒店设施还没有从房仓拉取过过来（飞）</p></li><li><p>所有的图片还没有抓取过来（钱）</p></li><li><p>查询价格计划增量接口（俞）</p></li></ol>', 0),
	(42, 1, '技术，产品，运营', '2018-09-28', 3, 1539158425, 1539158425, '畅联对接会议的总结', '<p>RateCode&nbsp; 房型下的产品的code------》 相当于售卖房型id。</p><p>roomTypeCode&nbsp; 物理房型。不同酒店房型code可能一样</p><p>早餐绑定在rateCode（房价码） 上。包含取消规则，连住天数限制，早餐类型信息等。</p><p>担保信息在房价码上,酒店提供。线下酒店提供excel表，由人工录入。担保是由公司担保。</p><p>房价推送：先支持2人价格（按房给价）。房价是一天一天的给。加人加床的话，是要去前台付账的</p><p>房价开关：产品是否允许售卖。推送的日期是一天，都是一天一个售卖房型推送的。</p><p>房量：剩余房间数。物理房型剩余2间。所有产品的库存都剩余2间。有个别集团：不会提供房间数，只会提供是否可售。港中旅是会提供具体房量的。</p><p>畅联推送的房量：只会推送一个房量或者房态（open\\close）,不会同时推送2个字段。</p><p>产品是否可卖：房价&gt;0-库存-房价开关.</p><p>房价--库存--房价开关：畅联消息推送是没有顺序的。</p><p>畅联的订单全是即时确认。</p><p>查询可用房间接口（DetailAvailability）&nbsp; &nbsp;可以 用于&nbsp; 可订检查。</p><p>&nbsp;</p><p>下单之前先调用DetailAvailability接口，查询是否可订。如果有房可用。会返回价格。返回的价格与NDA一致可下单成功。</p><p>&nbsp;</p><p>下单：渠道编码。渠道订单号。房价码。房间数。每日价格。货币类型。人数。</p><p>担保方式：现付无担保。预付。会有担保方式的担保代码。信用卡的话：需要填写持卡人信息。</p><p>下订单的备注：可以将客户信息写入备注。客户需求。</p><p>下单：一件房一单。多间房需要拆单。部分成功则回滚。</p><p>ModifyBooking: 如果允许客户可以修改信息的话。与畅联对接逻辑是：先取消订单再重新下单。</p><p>取消政策：由线下酒店交给NDA维护。</p><p>取消订单：畅联接口返回取消成功之后，才会返回给客户.</p><p>提供畅联接口地址：http&nbsp; &nbsp;有端口限制。8080等常见的端口</p><p><br/></p>', 0),
	(43, 1, '全体技术', '2018-10-11', 14, 1539230674, 1539252509, '畅联对接-关于酒店、集团code和请求超时问题', '<p><span style="font-family:宋体;font-size:14px"></span></p><p><span style="font-family:宋体;font-size:14px">1.&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">物理房型匹配</span></span></p><p style="margin-left:56px"><span style="font-family:Calibri;font-size:14px">(1)&nbsp;</span><span style=";font-family:宋体;font-size:14px">Hotel-switch<span style="font-family:宋体">中完成匹配。</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">①&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">在</span>hotel-switch<span style="font-family:宋体">的酒店管理界面</span><span style="font-family:Calibri">-</span><span style="font-family:宋体">匹配物理房型中。</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">②&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">新添加功能</span></span></p><p style="margin-left:112px"><span style="font-family:Calibri;font-size:14px">1)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">从</span>nda<span style="font-family:宋体">中导入畅联酒店新建的房型信息</span></span></p><p style="margin-left:112px"><span style="font-family:Calibri;font-size:14px">2)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">手动添加房型</span>code<span style="font-family:宋体">来完成匹配</span></span></p><p style="margin-left:0;text-indent:0"><span style="font-family:宋体;font-size:14px">2.&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">酒店</span>code,<span style="font-family:宋体">集团</span><span style="font-family:Calibri">code</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">①&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">系统和系统之间是隔离的</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">②&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">在</span>hotel-switch<span style="font-family:宋体">中存储</span><span style="font-family:Calibri">nda</span><span style="font-family:宋体">酒店</span><span style="font-family:Calibri">di</span><span style="font-family:宋体">和</span><span style="font-family:Calibri">api</span><span style="font-family:宋体">集团的</span><span style="font-family:Calibri">code </span><span style="font-family:宋体">对应关系</span></span></p><p style="margin-left:112px"><span style="font-family:Calibri;font-size:14px">1)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">在</span>nda<span style="font-family:宋体">中创建集团，</span></span></p><p style="margin-left:112px"><span style="font-family:Calibri;font-size:14px">2)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">单体酒店不用创建集团，它本身就是集团</span></span></p><p style="margin-left:112px"><span style="font-family:Calibri;font-size:14px">3)&nbsp;</span><span style=";font-family:宋体;font-size:14px">Hotel-switch<span style="font-family:宋体">中</span><span style="font-family:Calibri">bk_hotel</span><span style="font-family:宋体">表中使用</span><span style="font-family:Calibri">supplierId</span><span style="font-family:宋体">字段来存储该酒店对应的集团</span><span style="font-family:Calibri">code</span><span style="font-family:宋体">（新建畅联酒店的时候完成）</span></span></p><p><span style="font-family: 宋体;font-size: 14px"><span style="font-family:宋体"></span></span><br/></p><p style="margin-left:0;text-indent:0"><span style="font-family: 宋体;font-size: 14px">3.&nbsp;</span><span style="font-family: 宋体;font-size: 14px"><span style="font-family:宋体">超时</span></span></p><p style="margin-left:56px"><span style="font-family:Calibri;font-size:14px">(1)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">如果没发生超时的情况，就按照原来的逻辑继续下单</span></span></p><p style="margin-left:56px"><span style="font-family:Calibri;font-size:14px">(2)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">超时的话，把它交给定时任务</span>retry</span></p><p style="margin-left:56px"><span style="font-family:Calibri;font-size:14px">(3)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">取消订单问题：</span>3<span style="font-family:宋体">个子任务，下单时</span><span style="font-family:Calibri">2</span><span style="font-family:宋体">个成功，</span><span style="font-family:Calibri">1</span><span style="font-family:宋体">个超时。此时</span><span style="font-family:Calibri">nda</span><span style="font-family:宋体">发起取消。</span></span></p><p style="margin-left:28px;text-indent:28px"><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">如果我们取消第一个子订单，是否说明我们取消了全部的子订单？？？</span></span></p><p style="margin-left:56px"><span style="font-family:Calibri;font-size:14px">(4)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">创建钉钉群。用于取消订单交流</span></span></p><p><br/></p>', 0),
	(44, 1, '全体技术', '2018-10-12', 14, 1539340460, 1539340460, '关于畅联订单逻辑', '<p><span style="font-family:宋体;font-size:14px">1.&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">订单</span></span></p><p style="margin-left:56px"><span style="font-family:Calibri;font-size:14px">(1)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">逻辑。</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">①&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">之前逻辑下什么单，就是什么订单</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">②&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">不同的</span>apiType<span style="font-family:宋体">有各自的实现</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">③&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">畅联在自己的实现类中实现拆单</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">④&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">大单分小单。多次请求。无论请求是否失败都记录下来（订单状态不同）。继续顺序执行。</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">⑤&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">超时</span>-<span style="font-family:宋体">循环继续</span><span style="font-family:Calibri">-</span><span style="font-family:宋体">循环子订单</span><span style="font-family:Calibri">-</span><span style="font-family:宋体">根据</span><span style="font-family:Calibri">parentId(</span><span style="font-family:宋体">父订单</span><span style="font-family:Calibri">id)-</span><span style="font-family:宋体">查询所有的子订单。</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">⑥&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">失败</span>-<span style="font-family:宋体">跳出循环</span><span style="font-family:Calibri">---</span><span style="font-family:宋体">触发事件：去取消订单。全部都得执行取消一次。之后再向</span><span style="font-family:Calibri">nda</span><span style="font-family:宋体">推送信息（定时任务或者别的机制）。把</span><span style="font-family:Calibri">nda</span><span style="font-family:宋体">中相关的订单取消掉（从</span><span style="font-family:Calibri">api</span><span style="font-family:宋体">那返回订单号的</span><span style="font-family:Calibri">-</span><span style="font-family:宋体">成功的）。其余超时或者失败的，则向钉钉发消息。人工干预。</span></span></p><p style="margin-left:56px"><span style="font-family:Calibri;font-size:14px">(2)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">取消订单</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">①&nbsp;</span><span style=";font-family:宋体;font-size:14px">3<span style="font-family:宋体">个子订单，取消一个则认为都取消。人工干预取消</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">②&nbsp;</span><span style=";font-family:宋体;font-size:14px">3<span style="font-family:宋体">个子订单。取消失败。返回不可取消。</span></span></p><p style="margin-left:56px"><span style="font-family:Calibri;font-size:14px">(3)&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">确认机制，</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">①&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">创建订单状态</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">②&nbsp;</span><span style=";font-family:宋体;font-size:14px"><span style="font-family:宋体">取消订单状态</span></span></p><p style="margin-left:84px"><span style="font-family:Calibri;font-size:14px">③&nbsp;</span><span style=";font-family:宋体;font-size:14px">Switch<span style="font-family:宋体">保留初始状态。</span><span style="font-family:Calibri">Nda</span><span style="font-family:宋体">回复确认最新状态</span></span></p><p><br/></p>', 0),
	(45, 1, '钱攀，顿刚，俞栋炜，章2宇飞', '2018-11-07', 5, 1541574899, 1541574899, '分销商最低价格计算逻辑', '<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;最低价查询功能</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;完成目标</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 每天的最低价，根据时间查询，根据渠道存储。</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;工作：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; 设计数据表&nbsp; &nbsp; 酒店Id 渠道类型&nbsp; date（天）&nbsp; 价格。</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2&nbsp; 编码根据idservice 最低价格服务化。</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3&nbsp; 2个接口&nbsp; 1 查询 参数有（渠道id,酒店id，时间区间）查询酒店的最低价。</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 写入 1个个写入数据表字段。</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4&nbsp; 定时任务&nbsp; &nbsp;查询nda数据库，调写入接口,计算价格后，放入switch数据库。</p><p>&nbsp; &nbsp; &nbsp;&nbsp;</p>', 0),
	(46, 1, '顿刚、钱攀', '2018-07-17', 3, 1542274109, 1542274109, 'tacompany和hotel的合并', '<p>CREATE TABLE `ta_company` (</p><p>&nbsp; `channel_type_id` char(18) NOT NULL,</p><p>&nbsp; `industry_type` smallint(6) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;行业类型&#39;,</p><p>&nbsp; `short_name` varchar(64) DEFAULT NULL,</p><p>&nbsp; &nbsp;`office_address` varchar(255) DEFAULT NULL COMMENT &#39;公司办公地址&#39;,</p><p>&nbsp; `reg_address` varchar(255) DEFAULT NULL COMMENT &#39;公司注册地址&#39;,</p><p>&nbsp; `contact_email` varchar(45) DEFAULT NULL COMMENT &#39;联系人邮箱&#39;,</p><p>&nbsp; `contact_phone` varchar(16) DEFAULT NULL COMMENT &#39;联系人电话&#39;,</p><p>&nbsp; `fax` varchar(16) DEFAULT NULL COMMENT &#39;传真&#39;,</p><p>&nbsp; `invoice_title` varchar(128) DEFAULT NULL COMMENT &#39;发票抬头&#39;,</p><p>&nbsp; `invoice_addr` varchar(128) DEFAULT NULL COMMENT &#39;发票地址&#39;,</p><p>&nbsp; `invoice_content` varchar(128) DEFAULT NULL COMMENT &#39;发票：开票内容&#39;,</p><p>&nbsp; `taxpayer_id` varchar(64) DEFAULT NULL COMMENT &#39;纳税人识别号&#39;,</p><p>&nbsp; `bank_name` varchar(128) DEFAULT NULL COMMENT &#39;开户行&#39;,</p><p>&nbsp; `bank_account` varchar(32) DEFAULT NULL COMMENT &#39;开户行账号&#39;,</p><p>&nbsp; `fcontact_name` varchar(32) DEFAULT NULL COMMENT &#39;财务联系人姓名&#39;,</p><p>&nbsp; `fcontact_email` varchar(32) DEFAULT NULL COMMENT &#39;财务联系邮箱&#39;,</p><p>&nbsp; `fcontact_mobile` varchar(16) DEFAULT NULL COMMENT &#39;财务联系手机&#39;,</p><p>&nbsp; `fcontact_phone` varchar(16) DEFAULT NULL COMMENT &#39;财务联系电话&#39;,</p><p>&nbsp; PRIMARY KEY (`id`)</p><p>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;</p><p><br/></p><p>CREATE TABLE `hotel` (</p><p>&nbsp; code` char(18) DEFAULT NULL,</p><p>&nbsp; `brand_id` int(11) DEFAULT NULL COMMENT &#39;品牌id&#39;,</p><p>&nbsp; `group_id` int(11) DEFAULT &#39;0&#39; COMMENT &#39;集团id&#39;,</p><p>&nbsp; `is_group` tinyint(1) NOT NULL DEFAULT &#39;0&#39;,</p><p>&nbsp; `is_supplier` tinyint(1) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;是否是供应商&#39;,</p><p>&nbsp; ``star` int(11) DEFAULT &#39;0&#39; COMMENT &#39;星级（是否挂星）特殊类型豪华型&#39;,</p><p>&nbsp; `room_total` int(6) DEFAULT NULL COMMENT &#39;客房总数&#39;,</p><p>&nbsp; &nbsp;`biz_date` date DEFAULT NULL COMMENT &#39;开业日期&#39;,</p><p>&nbsp; &nbsp; `api_type` varchar(50) NOT NULL DEFAULT &#39;NDA&#39; COMMENT &#39;合作类型： NDA,XIAOYI&#39;,</p><p>&nbsp; `checked_time` datetime DEFAULT NULL COMMENT &#39;审核通过时间&#39;,</p><p>&nbsp; `geo` varchar(32) DEFAULT NULL COMMENT &#39;经纬度&#39;,</p><p>&nbsp; `name_cn` varchar(128) DEFAULT NULL,</p><p>&nbsp; `name_en` varchar(128) DEFAULT NULL,</p><p>&nbsp; `star_card` varchar(128) DEFAULT NULL COMMENT &#39;星级证书&#39;,</p><p>&nbsp; `sale_fax` varchar(20) DEFAULT NULL COMMENT &#39;销售部传真&#39;,</p><p>&nbsp; `biz_fax` varchar(20) DEFAULT NULL COMMENT &#39;商务部传真&#39;,</p><p>&nbsp; `cover_pic` varchar(128) DEFAULT NULL COMMENT &#39;酒店主图&#39;,</p><p>&nbsp; `specil_biz_license` varchar(126) DEFAULT NULL,</p><p>&nbsp; `has_admin` tinyint(1) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;是否创建了管理员&#39;,</p><p>&nbsp; `contract_status` tinyint(1) DEFAULT &#39;0&#39; COMMENT &#39;0:未签约 1签约&#39;,</p><p>&nbsp; PRIMARY KEY (`id`,`account_status`),</p><p>&nbsp; UNIQUE KEY `code_index` (`code`) USING BTREE</p><p>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;</p><p><br/></p><p>region` int(11) DEFAULT NULL,</p><p>&nbsp; `province` int(11) DEFAULT NULL,</p><p>&nbsp; `city` int(11) DEFAULT NULL,</p><p>&nbsp; `town` int(11) DEFAULT NULL,</p><p>&nbsp; `region_name` varchar(64) NOT NULL DEFAULT &#39;中国&#39; COMMENT &#39;国家区域的名称&#39;,</p><p>&nbsp; `province_name` varchar(64) DEFAULT NULL COMMENT &#39;省份的名称&#39;,</p><p>&nbsp; `city_name` varchar(64) DEFAULT NULL COMMENT &#39;城市的名称&#39;,</p><p>&nbsp; `town_name` varchar(64) DEFAULT NULL COMMENT &#39;区/县名称&#39;,</p><p>&nbsp; &nbsp; `address` varchar(255) DEFAULT NULL COMMENT &#39;地址&#39;,</p><p><span style="white-space:pre">	</span>&nbsp; `biz_license` varchar(128) DEFAULT NULL COMMENT &#39;经营许可证&#39;,</p><p><span style="white-space:pre">	</span>&nbsp; `handler_id` char(18) DEFAULT NULL COMMENT &#39;处理人id（平台业务人员的id）&#39;,</p><p>&nbsp; `handler` varchar(32) DEFAULT NULL COMMENT &#39;处理人名称(平台业务人员的名称）&#39;,</p><p>&nbsp; `handle_status` tinyint(4) DEFAULT &#39;0&#39; COMMENT &#39;跟进状态 0洽谈失败，1：洽谈成功，2.发送合同，3回收合同，4确认收款，100完成签约&#39;,</p><p>&nbsp; &nbsp;`process_status` tinyint(4) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;处理状态 ：-1停止跟进， 0：未处理，1跟进中&#39;,</p><p>&nbsp; `check_status` tinyint(4) NOT NULL DEFAULT &#39;1&#39; COMMENT &#39;审核状态：1编辑，2提交待审，3审核通过，0审核失败\\n合作类型：酒店自添加分销商：1合作中、2审核中、3审核通过、0停止合作&#39;,</p><p>&nbsp; `account_status` tinyint(4) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;账号状态，1启用，0开通，-1禁用&#39;,</p><p>&nbsp;`status` tinyint(1) DEFAULT NULL COMMENT &#39;状态 是否已上线：1上线，0未上线&#39;,</p><p>&nbsp;`contract_type` tinyint(4) NOT NULL DEFAULT &#39;1&#39; COMMENT &#39;合作类型： 1 后台，2 API&#39;,</p><p>&nbsp; `effect_date` date DEFAULT NULL COMMENT &#39;生效日期&#39;,</p><p>&nbsp; `expire_date` date DEFAULT NULL COMMENT &#39;过期日期&#39;,</p><p>&nbsp; &nbsp; `intro` text COMMENT &#39;公司简介&#39;,</p><p><span style="white-space:pre">	</span>&nbsp; `create_time` datetime DEFAULT NULL,</p><p>&nbsp; `update_time` datetime DEFAULT NULL,</p><p>&nbsp; `id` char(18) NOT NULL COMMENT &#39;企业id，一家酒店必须有唯一的主体，一个主体只能有一个酒店&#39;,</p><p>&nbsp; ``contact_name` varchar(32) NOT NULL COMMENT &#39;联系人&#39;,</p><p>&nbsp; `contact_mobile` varchar(16) NOT NULL COMMENT &#39;联系人手机&#39;,</p><p>&nbsp; &nbsp;`phone` varchar(16) DEFAULT NULL COMMENT &#39;固定电话公司总机&#39;,</p><p>&nbsp; `company_name` varchar(128) DEFAULT NULL COMMENT &#39;企业名称&#39;,</p><p><br/></p>', 0),
	(47, 1, '钱攀，章宇飞，俞栋炜，顿刚', '2018-11-30', 1, 1543567773, 1543567843, '🎥回顾会议', '<p>1.hotelswtich的外部数据产生的日志不纳入到分布式事务中</p><p>2.NDAswitch当中不用加入分布事务</p><p>3.roomplan服务测试分布事务，特别是sql语句的改造</p><p>4.特别注意：sharding-jdbc 支持批量插入，不支持批量更新操作</p><p>5.服务升级需要升级版本号，解决无缝发布系统的问题</p><p>6.待处理问题 ： 提供酒店图片<br></p><p><br></p>', 0);
/*!40000 ALTER TABLE `gt_meet` ENABLE KEYS */;

-- 导出  表 geetask.gt_project 结构
CREATE TABLE IF NOT EXISTS `gt_project` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL COMMENT '名称',
  `web_site` varchar(128) DEFAULT NULL COMMENT '官网',
  `is_achived` tinyint(1) NOT NULL DEFAULT '0' COMMENT '归档',
  `creator_id` int(11) NOT NULL COMMENT '创始人',
  `created_at` int(11) DEFAULT NULL COMMENT '添加日期',
  `updated_at` int(11) DEFAULT NULL COMMENT '更新日期',
  `is_del` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `fk_project_user_idx` (`creator_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT='项目';

-- 正在导出表  geetask.gt_project 的数据：~1 rows (大约)
/*!40000 ALTER TABLE `gt_project` DISABLE KEYS */;
INSERT INTO `gt_project` (`id`, `name`, `web_site`, `is_achived`, `creator_id`, `created_at`, `updated_at`, `is_del`) VALUES
	(1, 'NDA', 'http://www.ndabooking.com', 0, 1, 1543371042, 1543371042, 0);
/*!40000 ALTER TABLE `gt_project` ENABLE KEYS */;

-- 导出  表 geetask.gt_project_member 结构
CREATE TABLE IF NOT EXISTS `gt_project_member` (
  `project_id` int(11) NOT NULL COMMENT '项目',
  `user_id` int(11) NOT NULL COMMENT '成员',
  `position` varchar(64) NOT NULL COMMENT '岗位',
  PRIMARY KEY (`project_id`,`user_id`),
  KEY `fk_project_mem_pid` (`project_id`),
  KEY `fk_project_mem_user` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='项目成员';

-- 正在导出表  geetask.gt_project_member 的数据：~9 rows (大约)
/*!40000 ALTER TABLE `gt_project_member` DISABLE KEYS */;
INSERT INTO `gt_project_member` (`project_id`, `user_id`, `position`) VALUES
	(1, 1, '项目负责人'),
	(1, 2, '敏捷教练'),
	(1, 3, '开发人员'),
	(1, 5, '开发人员'),
	(1, 6, '项目负责人'),
	(1, 11, '项目负责人'),
	(1, 12, '项目负责人'),
	(1, 14, '开发人员'),
	(1, 15, '项目负责人');
/*!40000 ALTER TABLE `gt_project_member` ENABLE KEYS */;

-- 导出  表 geetask.gt_project_robot 结构
CREATE TABLE IF NOT EXISTS `gt_project_robot` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `robot_id` int(11) NOT NULL COMMENT '机器人',
  `project_id` int(11) NOT NULL COMMENT '项目',
  `created_at` int(11) NOT NULL COMMENT '添加时间',
  `updated_at` int(11) NOT NULL COMMENT '更新时间',
  `name` varchar(64) DEFAULT NULL COMMENT '机器人名称',
  `webhook` varchar(255) DEFAULT NULL COMMENT '通知地址',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT='项目机器人';

-- 导出  表 geetask.gt_robot 结构
CREATE TABLE IF NOT EXISTS `gt_robot` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `created_at` int(11) NOT NULL COMMENT '添加时间',
  `updated_at` int(11) NOT NULL COMMENT '更新时间',
  `name` varchar(64) DEFAULT NULL COMMENT '名称',
  `code_full_class` varchar(128) DEFAULT NULL COMMENT '代码类',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT='即时机器人';

-- 正在导出表  geetask.gt_robot 的数据：~1 rows (大约)
/*!40000 ALTER TABLE `gt_robot` DISABLE KEYS */;
INSERT INTO `gt_robot` (`id`, `created_at`, `updated_at`, `name`, `code_full_class`) VALUES
	(1, 1543400079, 1543462291, '钉钉', '\\app\\robots\\DingTalkRobot');
/*!40000 ALTER TABLE `gt_robot` ENABLE KEYS */;

-- 导出  表 geetask.gt_robot_message 结构
CREATE TABLE IF NOT EXISTS `gt_robot_message` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `code` varchar(64) DEFAULT NULL COMMENT '消息代号',
  `name` varchar(64) DEFAULT NULL COMMENT '消息名称',
  `msg_subject` varchar(255) DEFAULT NULL COMMENT '消息主题',
  `subject_vars` varchar(255) DEFAULT NULL COMMENT '主题变量',
  `msg_body` text COMMENT '消息内容',
  `body_vars` varchar(255) DEFAULT NULL COMMENT '内容变量',
  PRIMARY KEY (`id`),
  UNIQUE KEY `code` (`code`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT='机器人消息';

-- 正在导出表  geetask.gt_robot_message 的数据：~1 rows (大约)
/*!40000 ALTER TABLE `gt_robot_message` DISABLE KEYS */;
INSERT INTO `gt_robot_message` (`id`, `code`, `name`, `msg_subject`, `subject_vars`, `msg_body`, `body_vars`) VALUES
	(1, 'OnChangeStoryInSprint', '修改迭代中的用户故事的时候', '{user.nick_name} -> 才更新了用户故事#{story.id}🎉🎉🎉', '{user.nick_name},{story.id},{story.name},{story.status},{story.user}', '> **处理人:** {story.user}\r\n> **状态:** {story.old_status} -> {story.status}\r\n> **内容:** {story.name}\r\n> **备注:** {story.remark}\r\n> ❤❤❤\r\n\r\n\r\n', '{story.id},{story.name},{story.status},{story.user},{story.remark}'),
	(2, 'OnCreateStoryInSprint', '添加迭代中的用户故事的时候', '{user.nick_name} -> 才添加了用户故事#{story.id}🎉🎉🎉', '{user.nick_name},{story.id},{story.name},{story.status},{story.user}', '> **处理人:** {story.user}\r\n> **内容:** {story.name}\r\n> ❤❤❤', '{story.id},{story.name},{story.status},{story.user}');
/*!40000 ALTER TABLE `gt_robot_message` ENABLE KEYS */;

-- 导出  表 geetask.gt_role 结构
CREATE TABLE IF NOT EXISTS `gt_role` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL COMMENT '名称',
  `scope` enum('ADMIN','POSITION') NOT NULL DEFAULT 'ADMIN' COMMENT '范围',
  `description` varchar(255) NOT NULL COMMENT '说明',
  `is_sys` tinyint(1) DEFAULT '1' COMMENT '系统内置',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COMMENT='积分';

-- 正在导出表  geetask.gt_role 的数据：~4 rows (大约)
/*!40000 ALTER TABLE `gt_role` DISABLE KEYS */;
INSERT INTO `gt_role` (`id`, `name`, `scope`, `description`, `is_sys`) VALUES
	(1, '管理员1', 'ADMIN', '', NULL),
	(2, '项目负责人', 'POSITION', 'product owner', 1),
	(3, '敏捷教练', 'POSITION', 'project master', 1),
	(4, '开发人员', 'POSITION', 'developer', 1);
/*!40000 ALTER TABLE `gt_role` ENABLE KEYS */;

-- 导出  表 geetask.gt_setting 结构
CREATE TABLE IF NOT EXISTS `gt_setting` (
  `name` varchar(64) NOT NULL COMMENT '名称',
  `title` varchar(64) NOT NULL COMMENT '标题',
  `value` text COMMENT '值',
  PRIMARY KEY (`name`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='系统设置';

-- 正在导出表  geetask.gt_setting 的数据：~0 rows (大约)
/*!40000 ALTER TABLE `gt_setting` DISABLE KEYS */;
/*!40000 ALTER TABLE `gt_setting` ENABLE KEYS */;

-- 导出  表 geetask.gt_sprint 结构
CREATE TABLE IF NOT EXISTS `gt_sprint` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `project_id` int(11) NOT NULL COMMENT '项目',
  `status` enum('todo','doing','done') NOT NULL DEFAULT 'todo' COMMENT '状态',
  `start_date` date DEFAULT NULL COMMENT '开始日期',
  `end_date` date DEFAULT NULL COMMENT '结束日期',
  `created_at` int(11) DEFAULT NULL COMMENT '添加时间',
  `updated_at` int(11) DEFAULT NULL COMMENT '更新时间',
  `name` varchar(128) DEFAULT NULL COMMENT '名称',
  `is_del` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=38 DEFAULT CHARSET=utf8mb4 COMMENT='迭代计划';

-- 正在导出表  geetask.gt_sprint 的数据：~36 rows (大约)
/*!40000 ALTER TABLE `gt_sprint` DISABLE KEYS */;
INSERT INTO `gt_sprint` (`id`, `project_id`, `status`, `start_date`, `end_date`, `created_at`, `updated_at`, `name`, `is_del`) VALUES
	(1, 1, 'done', '2018-06-05', '2018-06-05', 1527735186, 1528426290, 'dev4supplier', 0),
	(2, 1, 'done', NULL, NULL, 1527735545, 1529459427, 'fixbug20180528', 0),
	(3, 1, 'done', '2018-06-15', '2018-06-15', 1527750115, 1530067935, 'dev4api20180528(api第二期)', 0),
	(5, 1, 'done', NULL, NULL, 1527752414, 1528970545, 'dev-spider', 0),
	(6, 1, 'done', NULL, NULL, 1527814670, 1531819779, 'dev-ndaswitch', 0),
	(7, 1, 'done', NULL, NULL, 1528182413, 1528182413, '酒店端UI1.0', 0),
	(8, 1, 'done', NULL, NULL, 1528266351, 1529026496, 'dev4message20180606(一期)', 0),
	(9, 1, 'done', '2018-06-07', '2018-06-07', 1528426172, 1528426274, 'fixbug4orderId', 0),
	(10, 1, 'done', NULL, '2018-06-15', 1528684885, 1530670242, 'fixbug4orderId（第二版）', 0),
	(11, 1, 'done', '2018-06-25', '2018-06-19', 1528941686, 1530064134, 'fixbug20180614', 0),
	(12, 1, 'done', NULL, NULL, 1529026427, 1530842950, 'dev-api-1.0', 0),
	(13, 1, 'done', NULL, NULL, 1529026461, 1529026461, 'dev4message二期', 0),
	(14, 1, 'done', NULL, NULL, 1529459716, 1531453282, 'fixbug20180620', 0),
	(15, 1, 'done', NULL, NULL, 1529919526, 1531789733, 'dev4userdefinechannel(该版本废弃)', 0),
	(16, 1, 'done', NULL, NULL, 1530241378, 1531985850, 'devmenu2', 0),
	(17, 1, 'done', NULL, NULL, 1530583615, 1532510397, 'fixbug20180703', 0),
	(18, 1, 'done', NULL, NULL, 1531281829, 1531985894, 'dev4udc', 0),
	(19, 1, 'done', NULL, NULL, 1531359153, 1532584197, 'fixbug20180712', 0),
	(20, 1, 'done', NULL, NULL, 1531452927, 1533008589, 'dev4inviteta', 0),
	(21, 1, 'done', NULL, NULL, 1531705854, 1531705854, 'dev4logopt', 0),
	(22, 1, 'done', NULL, NULL, 1531799438, 1532049702, 'dev4id', 0),
	(23, 1, 'done', NULL, NULL, 1531902315, 1531902315, 'dev4licenceaudit', 0),
	(24, 1, 'done', NULL, NULL, 1531987515, 1533287023, 'dev4combineHC', 0),
	(25, 1, 'done', NULL, NULL, 1531990758, 1533287071, 'dev4combineUser', 0),
	(26, 1, 'done', NULL, NULL, 1532049854, 1532510427, 'dev4licenceaudit', 0),
	(27, 1, 'done', NULL, NULL, 1532050762, 1532050762, 'fixbug20180720', 0),
	(28, 1, 'done', NULL, NULL, 1532310821, 1533008621, 'dev4hTest', 0),
	(29, 1, 'done', NULL, NULL, 1532589491, 1532589491, 'fixbug20180726', 0),
	(30, 1, 'done', '2018-08-04', '2018-08-05', 1532941988, 1532941988, 'dev4tapi', 0),
	(31, 1, 'done', NULL, NULL, 1533817574, 1533817574, '从渠道API同步酒店静态数据', 0),
	(32, 1, 'done', NULL, NULL, 1534146582, 1535335764, 'dev4hotelpolicy', 0),
	(33, 1, 'done', NULL, NULL, 1534383463, 1534384547, '飞猪店铺接口计划(dev4feizhuhotel)', 0),
	(34, 1, 'done', NULL, NULL, 1534753384, 1534753384, 'fang_cang_api', 0),
	(35, 1, 'done', NULL, NULL, 1537942640, 1537942640, '畅联对接', 0),
	(36, 1, 'doing', NULL, '2018-10-26', 1540180279, 1543714379, 'dev4roomtag', 0),
	(37, 1, 'done', NULL, NULL, 1540809070, 1542010574, 'dev4wxlogin', 0);
/*!40000 ALTER TABLE `gt_sprint` ENABLE KEYS */;

-- 导出  表 geetask.gt_story 结构
CREATE TABLE IF NOT EXISTS `gt_story` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sprint_id` int(11) NOT NULL DEFAULT '0' COMMENT '计划',
  `story_type` varchar(32) NOT NULL DEFAULT 'bug' COMMENT '类型',
  `status` int(11) NOT NULL COMMENT '状态',
  `important` smallint(6) NOT NULL DEFAULT '0' COMMENT '优先程度',
  `points` float NOT NULL DEFAULT '1' COMMENT '故事点',
  `project_id` int(11) NOT NULL COMMENT '项目',
  `user_id` int(11) NOT NULL COMMENT '处理人',
  `last_user_id` int(11) DEFAULT NULL COMMENT '更新者',
  `creator_id` int(11) NOT NULL COMMENT '创建者',
  `created_at` int(11) DEFAULT NULL COMMENT '添加时间',
  `updated_at` int(11) DEFAULT NULL COMMENT '更新时间',
  `name` varchar(128) DEFAULT NULL COMMENT '名称',
  `project_version` varchar(32) DEFAULT NULL COMMENT '版本',
  `is_del` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `task_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=407 DEFAULT CHARSET=utf8mb4 COMMENT='用户故事';

-- 正在导出表  geetask.gt_story 的数据：~404 rows (大约)
/*!40000 ALTER TABLE `gt_story` DISABLE KEYS */;
INSERT INTO `gt_story` (`id`, `sprint_id`, `story_type`, `status`, `important`, `points`, `project_id`, `user_id`, `last_user_id`, `creator_id`, `created_at`, `updated_at`, `name`, `project_version`, `is_del`) VALUES
	(1, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527735321, 1529395842, '酒店浏览后没记录到历史记录没有记录', NULL, 0),
	(2, 1, 'requirement', 11, 100, 1, 1, 6, 9, 1, 1527735441, 1527843964, '【平台端】测试账号的权限没有生效', NULL, 0),
	(3, 2, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1527735526, 1528941738, '渠道类型编辑填写排序异常', NULL, 0),
	(4, 1, 'requirement', 11, 100, 1, 1, 7, 9, 1, 1527735633, 1528094888, '房价无效【预定按钮】未变灰', NULL, 0),
	(5, 1, 'requirement', 11, 100, 1, 1, 9, 9, 1, 1527736106, 1527836262, '酒店与分销显示的政策不一致', NULL, 0),
	(6, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527736265, 1529396497, '修改晚数后预定政策没有变化', NULL, 0),
	(7, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527736443, 1528088859, '订单待处理通知提示的数量不正确', NULL, 0),
	(8, 1, 'requirement', 11, 100, 1, 1, 4, 9, 1, 1527747672, 1527848363, '酒店端集团帐号下仍切换关联状态为无效的酒店', NULL, 0),
	(9, 1, 'requirement', 11, 100, 1, 1, 6, 9, 1, 1527747695, 1528081656, '酒店端集团帐号下库存管理中应隐藏房型修改功能', NULL, 0),
	(10, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527747714, 1527847679, '酒店集团帐号首次登录没有提示绑定手机号', NULL, 0),
	(11, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747737, 1527847592, '集团房型售出佣金结算在单体酒店中', NULL, 0),
	(12, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747760, 1528081744, 'api对接订单出现空指针', NULL, 0),
	(13, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527747790, 1527846894, '供应商管理中搜索框名称错误', NULL, 0),
	(14, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747809, 1527847022, ' api对接使用支付宝支付出现空指针', NULL, 0),
	(15, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747828, 1527846237, ' 分销取消订单后，支付宝支付退款显示错误', NULL, 0),
	(16, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747846, 1527845677, 'api对接预付订单使用支付宝支付后取消未退款', NULL, 0),
	(17, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747871, 1527846067, ' 分销商预定免担保订单提交成功后订单状态未改变', NULL, 0),
	(18, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747895, 1527846536, 'api对接提交现付订单出现空指针', NULL, 0),
	(19, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747915, 1528081726, ' api对接使用支付宝支付出现空指针', NULL, 0),
	(20, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747931, 1527847283, ' 分销商取消订单后，供应商后台没有相应确认取消单动作', NULL, 0),
	(21, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747962, 1528094691, 'api对接，接口确认后。酒店端锁定允许取消修改按钮未消失', NULL, 0),
	(22, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527747980, 1528094535, ' api对接过取消时间，取消按钮未消失', NULL, 0),
	(23, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527748007, 1527847385, '集团酒店帐号下全部订单中需要增加酒店名称一栏', NULL, 0),
	(24, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527748028, 1527847892, '酒店端集团帐号下应隐藏酒店维护导航页', NULL, 0),
	(25, 1, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1527748049, 1528165953, '拆分对接hotelswitch的数据项目nda-switch', NULL, 0),
	(26, 1, 'requirement', 11, 100, 1, 1, 4, 9, 1, 1527748066, 1527846136, '分销端接收的供应商发送的账单，酒店名称显示错误', NULL, 0),
	(27, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527748087, 1527843565, '单体酒店的级别管理中出现了供应商提供的房型', NULL, 0),
	(28, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527748110, 1528095614, 'api预付下单后页面报错', NULL, 0),
	(29, 2, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1527749258, 1528959218, '房型宽带信息展示问题', NULL, 0),
	(30, 27, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1527749520, 1532661696, '关闭对话框刷新页面', NULL, 0),
	(31, 2, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1527749538, 1528944024, '增加支付类型', NULL, 0),
	(32, 11, 'requirement', 11, 100, 1, 1, 7, 12, 1, 1527749565, 1529982406, '新增酒店点击两次添加，出现重复酒店', NULL, 0),
	(33, 2, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1527749586, 1528943078, '酒店ID和酒店名称位置不统一', NULL, 0),
	(34, 11, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1527749603, 1529982676, '【管理后台】将酒店信息管理页的“提交审核”剔除', NULL, 0),
	(35, 2, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1527749618, 1528944121, '房型默认项改为“有效”', NULL, 0),
	(36, 11, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1527749640, 1529983981, '酒店信息提交后页面未跳转', NULL, 0),
	(37, 2, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1527749656, 1528944289, '可点击的按钮不明显', NULL, 0),
	(38, 2, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1527749680, 1528944410, '提交审核”按钮更改为“确认修改”', NULL, 0),
	(39, 2, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1527749695, 1528944503, '房型信息展示不完整', NULL, 0),
	(40, 2, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1527749711, 1529391822, '星级显示有问题', NULL, 0),
	(41, 2, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1527749726, 1528943488, '更改类目', NULL, 0),
	(42, 2, 'requirement', 11, 100, 1, 1, 7, 6, 1, 1527749745, 1529391917, '没选床型，提交后增加提醒框', NULL, 0),
	(43, 2, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1527749784, 1528943925, '酒店在修改证明图片时，刷新后不知道是否上传成功，优化加个文字提示', NULL, 0),
	(44, 2, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1527749804, 1528946500, '务板块中编辑按钮会有歧义', NULL, 0),
	(45, 2, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1527749823, 1528955528, '英文名称输入英文和空格，保存时提示应为名称只能输入英文和特殊符号', NULL, 0),
	(46, 2, 'requirement', 11, 100, 1, 1, 3, 12, 1, 1527749855, 1528956733, '最少起订间数提示不具体', NULL, 0),
	(47, 2, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1527749871, 1528942844, '返佣设置未填保存，原有数据被覆盖', NULL, 0),
	(48, 11, 'requirement', 11, 100, 1, 1, 7, 12, 1, 1527749887, 1530001800, '平台端维护酒店图片时无法批量上传', NULL, 0),
	(49, 11, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1527749915, 1530001834, '平台端维护酒店图片时无法批量上传', NULL, 0),
	(50, 2, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1527749938, 1528959252, ' 管理后台酒店基础信息维护模块文字错误', NULL, 0),
	(51, 2, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1527749962, 1528941858, ' 文字不统一，且缺少内容', NULL, 0),
	(52, 11, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1527749982, 1529983448, ' 系统设置中字典管理导航标签展示内容错误', NULL, 0),
	(53, 2, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1527749999, 1528946377, ' 异常订单查看', NULL, 0),
	(54, 14, 'requirement', 11, 100, 1, 1, 7, 6, 1, 1527750014, 1531291676, '订单接受后未消失', NULL, 0),
	(55, 2, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1527750033, 1528947410, '添加默认主图', NULL, 0),
	(56, 2, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1527750045, 1528942015, ' 按区域搜索酒店后，分页标签摆放位置问题', NULL, 0),
	(57, 2, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1527750063, 1528943938, '点击营业执照加载不出', NULL, 0),
	(58, 3, 'requirement', 11, 100, 1, 1, 13, 9, 1, 1527750143, 1529052847, 'API-酒店绑定API类型', NULL, 0),
	(59, 3, 'requirement', 11, 100, 1, 1, 13, 9, 1, 1527750158, 1529052872, 'API-酒店开启同步或者停止', NULL, 0),
	(60, 3, 'requirement', 11, 100, 1, 1, 13, 9, 1, 1527750174, 1529052767, 'API-根据酒店编码+API类型，查询物理房型', NULL, 0),
	(61, 3, 'requirement', 11, 100, 1, 1, 13, 9, 1, 1527750189, 1529052687, 'API-根据物理房型的Id+API类型，查询销售房型', NULL, 0),
	(62, 3, 'requirement', 11, 100, 1, 1, 13, 9, 1, 1527750212, 1529052936, 'API-查询支持的所有API类型+API提供额介绍', NULL, 0),
	(63, 3, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527750228, 1529052581, '设计酒店API的映射（多对多），是否绑定，是否同步', NULL, 0),
	(64, 3, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527750240, 1529052527, '设计酒店物理房型和API对应的物理房型的关系（多对多）', NULL, 0),
	(65, 3, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527750259, 1529051791, '通过API接口来更新APIType的值', NULL, 0),
	(66, 3, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527750273, 1529049961, '供应商数据同步管理', NULL, 0),
	(67, 3, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527750288, 1529027767, '根据API类型列出注册的酒店（管理绑定，同步开启）排除集团账号', NULL, 0),
	(68, 3, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527750315, 1529026268, '物理房型新增匹配', NULL, 0),
	(69, 3, 'requirement', 11, 100, 1, 1, 14, 9, 1, 1527750336, 1529050020, '销售房型新增匹配', NULL, 0),
	(70, 3, 'requirement', 11, 100, 1, 1, 14, 9, 1, 1527750352, 1528956658, '屏蔽（酒店屏蔽分销商）', NULL, 0),
	(71, 14, 'requirement', 11, 100, 1, 1, 4, 6, 1, 1527750366, 1531291343, '酒店端基础信息中增加撤销星级功能按钮', NULL, 0),
	(72, 5, 'requirement', 11, 100, 1, 1, 4, 1, 1, 1527752481, 1528020966, '设计数据模型', NULL, 0),
	(73, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1527752501, 1527846043, '系统管理员登录功能（管理后台）', NULL, 0),
	(74, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1527752519, 1527846062, '抓取携程酒店静态数据（管理后台）', NULL, 0),
	(75, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1527752533, 1527846091, '外网酒店静态数据转化成NDA格式的数据（管理后台）', NULL, 0),
	(76, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1527752547, 1527846108, '查询酒店的静态信息API（json）', NULL, 0),
	(77, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1527752562, 1527846124, '根据数据来源分页搜索列表（管理后台）', NULL, 0),
	(78, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1527752574, 1528177458, '查看和编辑酒店信息（管理后台）', NULL, 0),
	(79, 1, 'requirement', 11, 100, 1, 1, 3, 9, 1, 1527758408, 1529395422, '现付担保下单入住完成后，订单界面未显示授信支付退款金额。', NULL, 0),
	(80, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1527763891, 1528079955, '无删除员工账号权限，未提示权限不足', NULL, 0),
	(81, 6, 'requirement', 11, 100, 1, 1, 8, 13, 1, 1527815821, 1531875548, 'docker 容器互联 研究', NULL, 0),
	(82, 6, 'requirement', 11, 100, 1, 1, 8, 13, 1, 1527844718, 1531875560, 'ndaswitch更新价格库存时，碰到找不到的产品跳过，处理之后的数据', NULL, 0),
	(83, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1527844972, 1528097905, 'ndaswitch,hotelswitch 正式环境搭建', NULL, 0),
	(84, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1528074055, 1528273958, 'api对接，小议渠道增加每天自动登录一次功能', NULL, 0),
	(85, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1528163955, 1529395775, ' 登录后出现重复导航栏', NULL, 0),
	(86, 11, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528178366, 1529981746, '未展示取消政策的时间限制', NULL, 0),
	(87, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1528178475, 1529395802, '页面出现了多次嵌套', NULL, 0),
	(88, 1, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1528178528, 1529395862, '重新预定出现异常', NULL, 0),
	(89, 7, 'requirement', 11, 100, 1, 1, 10, 10, 1, 1528182463, 1528355486, '酒店基础信息设计', NULL, 0),
	(90, 7, 'requirement', 11, 100, 1, 1, 10, 10, 1, 1528182503, 1528355495, '酒店设施一键编辑页面设计', NULL, 0),
	(91, 7, 'requirement', 11, 100, 1, 1, 10, 10, 1, 1528182601, 1528356443, '酒店房型信息操作按钮排版设计', NULL, 0),
	(92, 7, 'requirement', 11, 100, 1, 1, 10, 10, 1, 1528182684, 1528699168, '酒店图片管理页面设计', NULL, 0),
	(93, 7, 'requirement', 11, 100, 1, 1, 10, 10, 1, 1528182847, 1528699175, '待处理订单页面设计', NULL, 0),
	(94, 7, 'requirement', 11, 100, 1, 1, 10, 10, 1, 1528182860, 1528699183, '打印页面设计', NULL, 0),
	(95, 7, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1528183050, 1528269077, '首页内容布局的排版', NULL, 0),
	(96, 7, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1528183104, 1528356815, '酒店基础信息交互开发', NULL, 0),
	(97, 7, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1528183363, 1528436789, '酒店设施的交互', NULL, 0),
	(98, 7, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1528183401, 1528786367, '酒店房型补充交互', NULL, 0),
	(99, 7, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1528183449, 1529916677, '酒店图片补充交互', NULL, 0),
	(100, 7, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1528183570, 1528363534, '酒店联系方式交互', NULL, 0),
	(101, 7, 'requirement', 11, 100, 1, 1, 12, 12, 1, 1528183684, 1528336591, '全部订单列表项目展示的信息清单', NULL, 0),
	(102, 7, 'requirement', 11, 100, 1, 1, 12, 12, 1, 1528183816, 1528336744, '待解锁订单条目展示清单', NULL, 0),
	(103, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1528184638, 1528281006, '图片去水印', NULL, 0),
	(104, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1528184674, 1528371809, '上传图片到oss', NULL, 0),
	(105, 2, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1528268685, 1528955820, '待处理订单刷新页面没有待处理任务时，传到后台的时间是毫秒数', NULL, 0),
	(106, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1528270556, 1528371818, '抓取图片失败后台邮件通知开发者', NULL, 0),
	(107, 2, 'requirement', 11, 100, 1, 1, 5, 6, 1, 1528275849, 1529459376, '权限补充', NULL, 0),
	(108, 13, 'requirement', 11, 100, 1, 1, 13, 8, 1, 1528277173, 1529479223, '平台端-admin后台操作房型审核成功后通知', NULL, 0),
	(109, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528277434, 1532309427, '平台端-admin后台操作酒店信息审核中审核完成后', NULL, 0),
	(110, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528333475, 1532309463, '平台端-admin后台操作图片审核中审核后', NULL, 0),
	(111, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528333666, 1532309474, '平台端-admin后台操作酒店修改审核中审核成功/审核失败后', NULL, 0),
	(112, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528354088, 1532309504, '平台端-admin后台操作酒店佣金管理中确认开票后', NULL, 0),
	(113, 8, 'requirement', 11, 100, 1, 1, 8, 6, 1, 1528354146, 1532487701, '分销端-分销端成功下单后', NULL, 0),
	(114, 8, 'requirement', 11, 100, 1, 1, 8, 6, 1, 1528354219, 1532488271, '分销端-分销端操作取消订单后', NULL, 0),
	(115, 8, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528354262, 1532681509, '分销端-分销商操作修改入住信息并提交成功后', NULL, 0),
	(116, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528354306, 1530240372, '分销端-分销端提交问题后', NULL, 0),
	(117, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528354344, 1530240380, '分销端-分销端提交点评后', NULL, 0),
	(118, 8, 'requirement', 11, 100, 1, 1, 8, 9, 1, 1528354375, 1530263797, '酒店端-截止当前系统日期10点，入住审核中现付订单有待审核状态', NULL, 0),
	(119, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528354579, 1532326743, '酒店端-酒店端佣金预计可用少于等于三天用户登录时提醒（调整为少于固定金额提醒）', NULL, 0),
	(120, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1528373560, 1528702434, '爬虫计划', NULL, 0),
	(121, 5, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1528373590, 1528702455, '定时爬取计划清单的定时任务', NULL, 0),
	(122, 1, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1528425926, 1528425926, 'dev4supplier的SQL', NULL, 0),
	(123, 9, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1528426214, 1528426226, '修复签约解约时的重复ID的报错', NULL, 0),
	(124, 10, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1528684922, 1530244480, '支付模块重构', NULL, 0),
	(125, 8, 'requirement', 11, 100, 1, 1, 13, 6, 1, 1528703738, 1532488063, '酒店端操作接受/拒绝订单时（二次确认订单）', NULL, 0),
	(126, 8, 'requirement', 11, 100, 1, 1, 13, 6, 1, 1528703890, 1532489999, '酒店端操作允许取消变更后', NULL, 0),
	(127, 8, 'requirement', 11, 100, 1, 1, 13, 6, 1, 1528704944, 1532498238, '酒店操作入住审核判定为异常订单', NULL, 0),
	(128, 8, 'requirement', 11, 100, 1, 1, 13, 6, 1, 1528705014, 1532498205, '分销商提交立即确认订单成功后', NULL, 0),
	(129, 3, 'requirement', 11, 100, 1, 1, 5, 9, 1, 1528873769, 1529027589, '平台测试端管理员管理编辑框显示问题', NULL, 0),
	(130, 11, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1528879122, 1529979470, '新建员工帐号未勾选权限登录报错', NULL, 0),
	(131, 14, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1528941878, 1531194663, ' 系统Session时间设置长一点', NULL, 0),
	(132, 11, 'requirement', 11, 100, 1, 1, 7, 12, 1, 1528942051, 1529994275, '酒店端维护酒店设施取消后页面未刷新，取消前的操作仍在', NULL, 0),
	(133, 11, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1528942123, 1529993383, '平台端维护酒店图片时提示图片大小不能超过512K,与酒店端不一致', NULL, 0),
	(134, 11, 'requirement', 11, 100, 1, 1, 7, 16, 1, 1528942230, 1529979703, '全部订单列表显示不完整', NULL, 0),
	(135, 11, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1528942336, 1529991839, ' 房型图片上传还未审核通过应该不可设置首图', NULL, 0),
	(136, 11, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1528942424, 1529993970, ' 酒店房型 宽带信息 全部房间 免费可以选择', NULL, 0),
	(137, 11, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1528942485, 1529993537, '分销端我的订单与全部订单无待确认状态的筛选项', NULL, 0),
	(138, 11, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1528942572, 1529994391, '酒店建筑面积选项未设置必填', NULL, 0),
	(139, 11, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1528942625, 1529994502, ' ta端使用主帐号登录报空指针', NULL, 0),
	(140, 11, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1528942718, 1529995508, '管理后台新增酒店报错', NULL, 0),
	(141, 11, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1528942756, 1529995280, ' 支付状态增加已退款', NULL, 0),
	(142, 11, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1528942796, 1529995572, '搜索条件错误', NULL, 0),
	(143, 11, 'requirement', 11, 100, 1, 1, 6, 6, 1, 1528942859, 1529025741, ' 酒店端code无默认值报错', NULL, 0),
	(144, 11, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1528942933, 1529977245, ' 收益管理已下线的售卖房型未被过滤', NULL, 0),
	(145, 11, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1528942988, 1529979934, ' 查看订单中输入确认号颜色不明显', NULL, 0),
	(146, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1528943025, 1532397214, ' 选择早餐1份/人时，酒店端订单详情不展示', NULL, 0),
	(147, 11, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1528943197, 1529979415, ' 专享配额订完不共享的问题', NULL, 0),
	(148, 11, 'requirement', 11, 100, 1, 1, 7, 11, 1, 1528943314, 1529979615, ' 单格日历查看日志', NULL, 0),
	(149, 11, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528943401, 1529980038, '页面展示异常', NULL, 0),
	(150, 11, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1528943525, 1529981660, ' 分销测试端异常订单确认出现错误', NULL, 0),
	(151, 14, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1528943669, 1531194920, '账单结算中订单是否同步的问题', NULL, 0),
	(152, 11, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1528943771, 1530063509, ' 酒店端导航页脚固定优化', NULL, 0),
	(153, 11, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1528943984, 1529981782, ' 员工管理界面优化问题', NULL, 0),
	(154, 11, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1528944057, 1529980317, ' 酒店总机不支持400格式', NULL, 0),
	(155, 11, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1528944100, 1529982168, ' 房型宽带显示异常', NULL, 0),
	(156, 11, 'requirement', 11, 100, 1, 1, 7, 11, 1, 1528944149, 1529980477, ' 日期无法选择', NULL, 0),
	(157, 11, 'requirement', 11, 100, 1, 1, 7, 11, 1, 1528944243, 1529980546, '日期无法选择', NULL, 0),
	(158, 11, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1528944319, 1529981067, ' 页面展示异常', NULL, 0),
	(159, 11, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1528944367, 1529982237, ' 酒店端个人信息用户名修改问题', NULL, 0),
	(160, 11, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1528944460, 1529982780, '分销管理设置分销商返佣时，显示错误', NULL, 0),
	(161, 11, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1528944568, 1529996092, '订单填写时更换房间数量，价格未更新', NULL, 0),
	(162, 14, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1528944644, 1531195044, '分销端“异常订单”担保扣款金额错误', NULL, 0),
	(163, 11, 'requirement', 11, 100, 1, 1, 7, 11, 1, 1528944727, 1529981622, ' 订单通知的弹框只出现一半', NULL, 0),
	(164, 11, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1528944801, 1529982911, ' 在库存管理搜索小议集团酒店，只填写城市时，提示“请输入酒店名称”', NULL, 0),
	(165, 14, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528944860, 1531194977, ' 关联酒店的第一家无效后，登陆集团，酒店默认登陆第一家。', NULL, 0),
	(166, 11, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1528944908, 1529983050, '在担保订单填写页面语句错误', NULL, 0),
	(167, 11, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1528944980, 1529981590, ' 确认取消单跳出修改通知', NULL, 0),
	(168, 14, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528945092, 1531195166, '订单修改日期后，提交按钮无法提交。', NULL, 0),
	(169, 11, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1528945153, 1529981907, ' 酒店设施部分与全部的展示混乱', NULL, 0),
	(170, 11, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1528945229, 1529983253, '平台端酒店设施模块选项排序有误导致分销端显示错误', NULL, 0),
	(171, 11, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1528945276, 1529983340, '在后台编辑设施后，新编辑的一行会跳到最后', NULL, 0),
	(172, 11, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528945364, 1529983238, ' 添加发票异常弹框', NULL, 0),
	(173, 11, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528945416, 1529982054, ' 酒店地图上的坐标与实际不符', NULL, 0),
	(174, 14, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528945470, 1531201836, ' 内部后台酒店基础信息页面缺少地图坐标模块', NULL, 0),
	(175, 11, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1528945737, 1529982558, '1367 分销管理设置现付返佣时弹出错误弹框', NULL, 0),
	(176, 11, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528945771, 1529981223, ' 页面展示异常', NULL, 0),
	(177, 14, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1528945807, 1531195057, ' 分销端“异常订单”担保扣款金额错误', NULL, 0),
	(178, 11, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528945841, 1529981820, ' 重新预定出现异常', NULL, 0),
	(179, 14, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1528945917, 1531195244, '酒店库存显示房价与分销显示的不一致', NULL, 0),
	(180, 11, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1528945960, 1529982405, '增加酒店信息时提交凭证后不显示', NULL, 0),
	(181, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1528967055, 1532326730, '酒店后台操作临时额度时', NULL, 0),
	(182, 12, 'requirement', 11, 100, 1, 1, 13, NULL, 1, 1529026915, 1529026915, '自动任务线上管理', NULL, 0),
	(183, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1529027359, 1530858049, '研究appkey,appsecret的接入方式， 结合我们现有的用户模式', NULL, 0),
	(184, 8, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1529375283, 1529388432, '协助的要点', NULL, 0),
	(185, 11, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1529399995, 1529978624, '设置专项配额出现负数', NULL, 0),
	(186, 14, 'requirement', 11, 100, 1, 1, 3, 16, 1, 1529459974, 1531193366, '专享配额有库存时不勾选【共享公共配额】外网不显示房型', NULL, 0),
	(187, 14, 'requirement', 11, 100, 1, 1, 5, 3, 1, 1529460104, 1531453268, '未勾选跟进权限的情况下，停止跟进成功', NULL, 0),
	(188, 14, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1529460234, 1531193862, '酒店搜索页面，取消筛选条件后未刷新', NULL, 0),
	(189, 14, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1529460289, 1531193538, ' 分销商申请提现未填写提现账号时出现提示框文字错误', NULL, 0),
	(190, 14, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1529460353, 1531194309, ' 入住审核筛选条件错误', NULL, 0),
	(191, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1529460442, 1532486764, ' 酒店总机格式局限', NULL, 0),
	(192, 14, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1529460571, 1531193898, '酒店详情无房型图时应不可点击', NULL, 0),
	(193, 14, 'requirement', 11, 100, 1, 1, 7, 16, 1, 1529460653, 1531194098, '分销商级别个性化设置出现错误', NULL, 0),
	(194, 11, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1529474466, 1529978393, '酒店首次维护基础信息时弹出弹框', NULL, 0),
	(195, 11, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1529474520, 1529978336, ' 酒店信息维护中“保存”按钮点击无反应', NULL, 0),
	(196, 11, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1529474581, 1529979111, ' 账户修改密码后出现页面嵌套', NULL, 0),
	(197, 11, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1529474638, 1529977542, '酒店设施页面无法显示', NULL, 0),
	(198, 15, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1529919570, 1530063542, '建表语句', NULL, 0),
	(199, 14, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1529984313, 1531187503, ' 在预定和订单修改填写信息页面增加每日房价的显示', NULL, 0),
	(200, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1530150741, 1530669781, '分销端-授信额度少于1000元时提醒', NULL, 0),
	(201, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1530150774, 1530669789, '分销端-临时额度少于1000元时提醒', NULL, 0),
	(202, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1530150796, 1533029165, '分销端-临时额度失效时', NULL, 0),
	(203, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1530150873, 1532346864, '分销端-首次登录后台，提醒分销端修改密码及验证手机邮箱', NULL, 0),
	(204, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1530150899, 1532326608, '平台端-admin后台操作提现申请接受/拒绝后', NULL, 0),
	(205, 13, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1530150925, 1532326650, '平台端-admin后台成功添加发票操作', NULL, 0),
	(206, 8, 'requirement', 11, 100, 1, 1, 8, 9, 1, 1530151299, 1530263731, '信息提示中待审核提示的去处理链接错误', NULL, 0),
	(207, 8, 'requirement', 11, 100, 1, 1, 8, 9, 1, 1530151324, 1530263774, '系统提示预付未付订单，下单后无提示', NULL, 0),
	(208, 17, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1530151345, 1532485904, '收益管理的预付加幅设置可以调整为负', NULL, 0),
	(209, 14, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1530151366, 1531202160, ' 预付订单设置优惠金额后页面未关闭刷新', NULL, 0),
	(210, 10, 'requirement', 11, 100, 1, 1, 7, 12, 1, 1530175151, 1530669148, '官网文字优化', NULL, 0),
	(211, 15, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1530176579, 1530515254, '自定义渠道管理', NULL, 0),
	(212, 15, 'requirement', 11, 100, 1, 1, 4, NULL, 1, 1530176598, 1530176598, '自定义渠道的个性化设置', NULL, 0),
	(213, 8, 'requirement', 11, 100, 1, 1, 2, 6, 1, 1530238409, 1532498355, ' 酒店登录出现空指针', NULL, 0),
	(214, 14, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1530240608, 1531204295, '分销商端主页的查询优化', NULL, 0),
	(215, 16, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1530241400, 1530609898, '测试内容', NULL, 0),
	(216, 8, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1530242726, 1530675785, '1450 信息提示中待审核提示的去处理链接错误', NULL, 0),
	(217, 8, 'requirement', 11, 100, 1, 1, 8, 8, 1, 1530242774, 1532681493, ' 系统提示预付未付订单，下单后无提示', NULL, 0),
	(218, 17, 'requirement', 11, 100, 1, 1, 4, 6, 1, 1530242829, 1531791214, ' 收益管理的预付加幅设置可以调整为负', NULL, 0),
	(219, 14, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1530242890, 1531187309, '预付订单设置优惠金额后页面未关闭刷新', NULL, 0),
	(220, 14, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1530581639, 1531192500, ' 酒店房型信息的宽带设置收费后，再次修改信息收费金额的选项禁用', NULL, 0),
	(221, 14, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1530581708, 1531192287, ' 酒店账号信息修改编辑后提示酒店code不能为空，但却无酒店code', NULL, 0),
	(222, 14, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1530581793, 1531192926, ' 分销公司删除按钮拿掉', NULL, 0),
	(223, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1530582059, 1532485451, '图片上传兆数限制放大', NULL, 0),
	(224, 14, 'requirement', 11, 100, 1, 1, 3, 16, 1, 1530582216, 1531188158, ' 订单管理中修改房型的修改单没有“修改”标签', NULL, 0),
	(225, 14, 'requirement', 11, 100, 1, 1, 5, 16, 1, 1530582345, 1531187444, '添加编辑酒店管理员账号时点击保存提示“酒店code不能为空”', NULL, 0),
	(226, 27, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1530582958, 1532595339, ' 收益管理与库存管理的查看日志中没有显示修改预付加幅和现付返佣操作', NULL, 0),
	(227, 14, 'requirement', 11, 100, 1, 1, 14, 11, 1, 1530583040, 1531192823, '酒店首图放大与房型放大的像素不一致', NULL, 0),
	(228, 14, 'requirement', 11, 100, 1, 1, 4, 11, 1, 1530583092, 1531192723, '添加分销商发票时发票编号未填写却提交成功', NULL, 0),
	(229, 14, 'requirement', 11, 100, 1, 1, 14, 16, 1, 1530583145, 1531187178, '登陆分销端账户后，个别板块与浏览器显示的标签不一致', NULL, 0),
	(230, 17, 'requirement', 11, 100, 1, 1, 3, 12, 1, 1530583245, 1532488100, ' 当更改库存管理的价格导致收益和分销级别价格出现负数时，增加提醒', NULL, 0),
	(231, 14, 'requirement', 11, 100, 1, 1, 5, 6, 1, 1530583356, 1531273474, '初次提交酒店信息时，地图坐标未获取', NULL, 0),
	(232, 14, 'requirement', 11, 100, 1, 1, 6, 6, 1, 1530583481, 1530668471, '点击日历格内的详情，隔2-3分钟才跳出来', NULL, 0),
	(233, 14, 'requirement', 11, 100, 1, 1, 5, 11, 1, 1530583527, 1531187914, 'api类型选择为“无”时，报错', NULL, 0),
	(234, 17, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1530583657, 1532488520, ' 把“发票欠额”拿掉', NULL, 0),
	(235, 17, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1530583768, 1532488736, '入住审核中筛选状态和状态显示的问题', NULL, 0),
	(236, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1530583918, 1532502673, '全部订单中操作人不应显示出分销端的操作账号', NULL, 0),
	(237, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1530584238, 1532490564, '分销商级别下已添加分销商的显示问题', NULL, 0),
	(238, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1530584309, 1532490815, '需要在锁定的情况下，才可以修改确认号', NULL, 0),
	(239, 27, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1530584425, 1532510013, ' 修改订单时，满房情况下无法完成减少或增加晚数，减少入住房间数量的修改操作。', NULL, 0),
	(240, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1530584518, 1532490944, '增加提问功能', NULL, 0),
	(241, 17, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1530584631, 1532499034, '酒店端佣金管理交易时间筛选问题', NULL, 0),
	(242, 17, 'requirement', 11, 100, 1, 1, 6, 6, 1, 1530584724, 1530610961, ' 创建账单前需查看账单明细', NULL, 0),
	(243, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1530584878, 1532500032, '酒店端必填项优化', NULL, 0),
	(244, 27, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1530584978, 1532936712, '修改订单后订单的位置需更换', NULL, 0),
	(245, 27, 'requirement', 11, 100, 1, 1, 8, 9, 1, 1530585069, 1532510315, ' 忽略按钮无效', NULL, 0),
	(246, 17, 'requirement', 11, 100, 1, 1, 7, 12, 1, 1530585147, 1532396554, '预定详情页中选择入离时间时的问题', NULL, 0),
	(247, 19, 'requirement', 11, 100, 1, 1, 5, 12, 1, 1530585239, 1532571643, ' 修改非核心内容未展示修改前信息和修改后信息', NULL, 0),
	(248, 27, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1530585371, 1532586434, ' 邮箱补充酒店未展示', NULL, 0),
	(249, 27, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1530585442, 1532595495, ' 酒店端员工管理中部门全部栏点击后刷新页面', NULL, 0),
	(250, 17, 'requirement', 11, 100, 1, 1, 8, 12, 1, 1530585503, 1532501263, ' 订单拒绝通知，点击“去处理”跳到了订单列表（测试环境）', NULL, 0),
	(251, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1530585561, 1532499740, '佣金余额展示异常', NULL, 0),
	(252, 17, 'requirement', 11, 100, 1, 1, 3, 12, 1, 1530585608, 1532503585, '单结预付的订单酒店没收到款', NULL, 0),
	(253, 17, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1530585660, 1532485089, ' 特殊要求的文字更改', NULL, 0),
	(254, 17, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1530585732, 1532501947, '库存管理中修改现付返佣应设置为必填', NULL, 0),
	(255, 17, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1530839737, 1532395521, ' 已停止合作的酒店分销端仍展示', NULL, 0),
	(256, 17, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1530839764, 1532501886, ' 酒店基础信息未提交审核时，分销端不应搜索出该酒店', NULL, 0),
	(257, 12, 'requirement', 11, 100, 1, 1, 13, NULL, 1, 1530847368, 1530858379, '在供应商管理中增加应用管理', NULL, 0),
	(258, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1530847586, 1531457689, 'api调用权限验证，用户验证', NULL, 0),
	(259, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1530858188, 1531135156, '城市分布接口 queryCityList', NULL, 0),
	(260, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1530858235, 1531457700, '酒店列表接口 queryHotelList (code, 名称，地址，电话)', NULL, 0),
	(261, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1530858263, 1531453930, '酒店详情接口 queryHotelInfo', NULL, 0),
	(262, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1530858290, 1530858442, '酒店销售房型接口 querySaleRoom', NULL, 0),
	(263, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1530858319, 1530858496, '房价查询接口', NULL, 0),
	(264, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1530858337, 1530858501, '房态查询接口', NULL, 0),
	(265, 12, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1530858358, 1530858505, '房价房态查询接口', NULL, 0),
	(266, 18, 'requirement', 11, 100, 1, 1, 1, 4, 1, 1531289179, 1531985876, 'SQL', NULL, 0),
	(267, 19, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1531359393, 1532569628, '级别内添加分销商', NULL, 0),
	(268, 19, 'requirement', 11, 100, 1, 1, 4, 12, 1, 1531359445, 1532569683, ' 分销商级别内设置预付和现付个性化', NULL, 0),
	(269, 19, 'requirement', 11, 100, 1, 1, 7, 12, 1, 1531359572, 1532569809, '分销商级别设置预付个性化设置时的问题', NULL, 0),
	(270, 19, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1531359875, 1532569879, '售卖房型信息中缺少早餐类型。宽带资费免费收费不明确', NULL, 0),
	(271, 19, 'requirement', 11, 100, 1, 1, 14, 12, 1, 1531359917, 1532569986, ' 发票管理中的充值时间异常', NULL, 0),
	(272, 19, 'requirement', 11, 100, 1, 1, 8, 6, 1, 1531359990, 1532570831, ' 待处理订单条数与通知提示条数不一致', NULL, 0),
	(273, 19, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1531360046, 1532570398, '无法批量删除账号', NULL, 0),
	(274, 19, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1531360189, 1532570260, '已有管理员账号的酒店不能再次点击添加用户', NULL, 0),
	(275, 19, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1531360240, 1532570196, '已有管理员账号的分销商不能再次点击添加用户', NULL, 0),
	(276, 19, 'requirement', 11, 100, 1, 1, 4, 6, 1, 1531360282, 1532570121, '没有酒店的创建时间，并且需改成倒叙', NULL, 0),
	(277, 19, 'requirement', 11, 100, 1, 1, 4, 6, 1, 1531360342, 1532569933, '系统服务费未填点击确认异常', NULL, 0),
	(278, 19, 'requirement', 11, 100, 1, 1, 4, 6, 1, 1531383595, 1532569852, '点击忘记密码页面未跳转', NULL, 0),
	(279, 19, 'requirement', 11, 100, 1, 1, 4, 6, 1, 1531383653, 1532569771, ' 修改个人密码错误', NULL, 0),
	(280, 19, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1531383755, 1532569674, ' 酒店房型是否有窗显示错误', NULL, 0),
	(281, 19, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1531383899, 1532569594, '代码错误	员工账号的权限问题', NULL, 0),
	(282, 19, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1531383991, 1532569136, '员工管理中员工应不能对自己设置权限', NULL, 0),
	(283, 19, 'requirement', 11, 100, 1, 1, 14, 6, 1, 1531384031, 1532568793, '个人信息中邮箱绑定后，点击编辑弹框后关闭无效', NULL, 0),
	(284, 19, 'requirement', 11, 100, 1, 1, 4, 6, 1, 1531384120, 1532568714, '酒店预订详情页【交通信息】【我看过的酒店】无显示', NULL, 0),
	(285, 19, 'requirement', 11, 100, 1, 1, 4, 6, 1, 1531384208, 1532568631, ' 分销公司管理状态展示不一致', NULL, 0),
	(286, 21, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1531705931, 1532916236, '日志优化', NULL, 0),
	(287, 22, 'requirement', 11, 100, 1, 1, 2, 3, 1, 1531799456, 1532049689, 'ID 重构', NULL, 0),
	(288, 16, 'requirement', 11, 100, 1, 1, 5, 3, 1, 1531799693, 1531985839, ' 酒店员工账号登录菜单异常', NULL, 0),
	(289, 18, 'requirement', 11, 100, 1, 1, 14, NULL, 1, 1531809429, 1531985882, 'SQL', NULL, 0),
	(290, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1531819833, 1531982858, '亚朵对接城市查询接口', NULL, 0),
	(291, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1531819848, 1531982865, '亚朵对接酒店查询接口', NULL, 0),
	(292, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1531819875, 1531982873, '亚朵对接物理房型查询接口', NULL, 0),
	(293, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1531819891, 1531982878, '亚朵对接销售房型查询接口', NULL, 0),
	(294, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1531819956, 1532485595, '亚朵对接房价数据自动推送', NULL, 0),
	(295, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1531819969, 1532485600, '亚朵对接房态数据自动推送', NULL, 0),
	(296, 23, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1531902548, 1532049645, '分销商营业执照上传和审核', NULL, 0),
	(297, 24, 'requirement', 11, 100, 1, 1, 14, 3, 1, 1531987531, 1533286997, 'SQL', NULL, 0),
	(298, 24, 'requirement', 11, 100, 1, 1, 14, 3, 1, 1531987554, 1533287011, '合并tacompany和hotel的ID', NULL, 0),
	(299, 25, 'requirement', 11, 100, 1, 1, 14, 3, 1, 1531991060, 1533287039, 'SQL', NULL, 0),
	(300, 25, 'requirement', 11, 100, 1, 1, 14, 3, 1, 1531991092, 1533287048, '功能开发', NULL, 0),
	(301, 26, 'requirement', 11, 100, 1, 1, 4, 3, 1, 1532049879, 1532420459, '分销商的营业执照的审核', NULL, 0),
	(302, 27, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1532050807, 1532678279, '账单中添加订单时应过滤已退款订单', NULL, 0),
	(303, 27, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532050911, 1532567968, '增加价格的搜索条件', NULL, 0),
	(304, 27, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532050944, 1532567959, '增加金额区间搜索', NULL, 0),
	(305, 27, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1532051089, 1532567788, '全部订单导出数据需增加数值', NULL, 0),
	(306, 27, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1532051120, 1532567767, '全部订单导出数据需增加数值', NULL, 0),
	(307, 27, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532051196, 1532678351, '收益管理设置现付返佣时出现错误', NULL, 0),
	(308, 27, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532051251, 1532567992, ' 现付担保订单延期入住扣款金额不对', NULL, 0),
	(309, 27, 'requirement', 11, 100, 1, 1, 4, 16, 1, 1532051330, 1532567755, '新增酒店时城市正常选择，提交时弹框城市等信息未填', NULL, 0),
	(310, 28, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532310849, 1532342026, '屏蔽测试酒店', NULL, 0),
	(311, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1532485695, 1532485952, '亚朵对接-可订检查接口', NULL, 0),
	(312, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1532485713, 1532485958, '亚朵对接-创建订单接口', NULL, 0),
	(313, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1532485731, 1532485963, '亚朵对接-取消订单接口', NULL, 0),
	(314, 6, 'requirement', 11, 100, 1, 1, 13, 13, 1, 1532485750, 1532485967, '亚朵对接-查询订单接口', NULL, 0),
	(315, 27, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532568703, 1532659857, '酒店房型审核通过后，列表没消失', NULL, 0),
	(316, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587178, 1532587496, '生成链接平台渠道注册 使用已有账号是否成功', NULL, 0),
	(317, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587197, 1532587544, '生成链接自定义渠道注册 使用已有账号是否成功', NULL, 0),
	(318, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587209, 1532587560, '生成链接平台渠道注册 注册公司注册 是否成功', NULL, 0),
	(319, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587227, 1532587587, '生成链接自定义渠道注册 注册公司注册 是否成功', NULL, 0),
	(320, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587254, 1532587603, ' 注册页面的验证信息是否满足要求', NULL, 0),
	(321, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587264, 1532587625, '注册成功分销商登录价格展示是否正确', NULL, 0),
	(322, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587276, 1532587639, '分销商的酒店详情页面 当链接地址手动输入是否提示异常', NULL, 0),
	(323, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587285, 1532587656, '平台关闭分销商，分销商是否可以登录', NULL, 0),
	(324, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587303, 1532587672, '酒店客户管理页面平台渠道切酒店自定义渠道是否正确', NULL, 0),
	(325, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587314, 1532587689, '酒店客户管理页面酒店自定义切平台渠道是否正确', NULL, 0),
	(326, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587325, 1532587705, '平台是否展示酒店客户的分销商', NULL, 0),
	(327, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587336, 1532587733, '如果该分销商不是该酒店客户 自定义渠道是否可以查询加入自己的定义渠道', NULL, 0),
	(328, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587347, 1532587748, '当分销商注册成功时是否在自定义渠道显示', NULL, 0),
	(329, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587407, 1532587764, '分销商申请为NDA客户是否展示在平台', NULL, 0),
	(330, 20, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1532587418, 1532587979, 'SQL', NULL, 0),
	(331, 27, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1532589619, 1532680006, '分销端注册页面和官网页面公司电话不应必填', NULL, 0),
	(332, 27, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1532589689, 1532655239, ' 酒店房型排版显示不一致', NULL, 0),
	(333, 27, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1532589753, 1532655501, '分销级别中多选框选中后取消出现，点击页面跳转出现弹框提示', NULL, 0),
	(334, 27, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1532589929, 1532589929, '子账号被显示在内部平台', NULL, 0),
	(335, 27, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1532589981, 1532589981, ' 子账号被显示在内部平台', NULL, 0),
	(336, 27, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1532590043, 1532688321, ' 更改列表内容', NULL, 0),
	(337, 27, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1532590174, 1532590174, '订单支付时，点击提交两次出现代码错误', NULL, 0),
	(338, 27, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532590292, 1532681863, '预定详情页连续点击多次可多次提交订单', NULL, 0),
	(339, 27, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1532590427, 1532590427, ' 订单支付页面连续点击提交提示框优化', NULL, 0),
	(340, 27, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1532590527, 1532590527, '分销业务指派跟进人优化', NULL, 0),
	(341, 27, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1532590597, 1532590597, ' 酒店业务指派跟进人页面优化', NULL, 0),
	(342, 29, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1532590662, 1532590662, '使用员工账号登陆菜单排序错误', NULL, 0),
	(343, 29, 'requirement', 11, 100, 1, 1, 3, 11, 1, 1532590755, 1533114956, ' 佣金为0时，下单提示佣金不足', NULL, 0),
	(344, 27, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1532590828, 1532592073, ' 更改重要文字', NULL, 0),
	(345, 29, 'requirement', 11, 100, 1, 1, 4, NULL, 1, 1532591047, 1532591047, ' 自定义渠道个性化设置现付或者预付修改刷新后又跳回到全部', NULL, 0),
	(346, 29, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1532591159, 1532591159, ' 自定义渠道中修改加幅后二级导航消失', NULL, 0),
	(347, 27, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1532591299, 1532662112, '原有声音代码报错问题', NULL, 0),
	(348, 27, 'requirement', 11, 100, 1, 1, 7, 7, 1, 1532591403, 1532663971, ' 消息提醒页面样式重叠', NULL, 0),
	(349, 30, 'requirement', 11, 100, 1, 1, 2, NULL, 1, 1532942040, 1534226847, '国家列表API', NULL, 0),
	(350, 30, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532942077, 1533086448, '获取城市列表API', NULL, 0),
	(351, 30, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532942115, 1533086468, '行政区域列表API', NULL, 0),
	(352, 30, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1532942282, 1533027984, '酒店ID列表查询API', NULL, 0),
	(353, 30, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1532942321, 1533031001, '酒店信息增量查询API', NULL, 0),
	(354, 30, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1532942364, 1533794360, '酒店详情查询API', NULL, 0),
	(355, 30, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1532942409, 1533194414, '酒店产品信息查询API', NULL, 0),
	(356, 30, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1533604604, 1533873525, '编写API文档-订单相关的部分', NULL, 0),
	(357, 30, 'requirement', 11, 100, 1, 1, 4, NULL, 1, 1533605098, 1533605098, '研究一下阿里云的OSS图片授权', NULL, 0),
	(358, 30, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1533794447, 1533794612, '订单可定检查接口', NULL, 0),
	(359, 30, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1533794464, 1533864294, '创建订单接口', NULL, 0),
	(360, 30, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1533794483, 1533794537, '取消订单接口', NULL, 0),
	(361, 30, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1533794512, 1533794561, '查看订单详情接口', NULL, 0),
	(362, 30, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1533794532, 1533794586, '支付接口', NULL, 0),
	(363, 30, 'requirement', 11, 100, 1, 1, 4, 4, 1, 1533794551, 1534494202, '订单推送接口', NULL, 0),
	(364, 30, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1533817064, 1533885281, '在订单中识别由某个渠道通过API创建的订单', NULL, 0),
	(365, 30, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1533817266, 1533817266, '下单超时后，告诉外部系统原因未知', NULL, 0),
	(366, 31, 'requirement', 11, 100, 1, 1, 14, NULL, 1, 1533817870, 1533817870, '以API为单位控制酒店的静态信息的同步 ', NULL, 0),
	(367, 30, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1533818036, 1533818036, ' 幂等通知的问题', NULL, 0),
	(368, 30, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1533818383, 1533818410, '幂等通知的频次问题', NULL, 0),
	(369, 31, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1533818687, 1533818687, 'NDA的ID作为酒店编码映射亚朵的酒店编码', NULL, 0),
	(370, 31, 'requirement', 11, 100, 1, 1, 14, NULL, 1, 1533866974, 1533867353, '以酒店为单位接收房型（物理）数据', NULL, 0),
	(371, 31, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1533867427, 1533867427, '推送房型数据（物理）到NDA switch', NULL, 0),
	(372, 31, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1533867512, 1533867512, '推送售卖产品（销售房型）到NDAswtich', NULL, 0),
	(373, 31, 'requirement', 11, 100, 1, 1, 14, NULL, 1, 1533867536, 1533867536, '接收产品数据（销售房型）的数据', NULL, 0),
	(374, 32, 'requirement', 11, 100, 1, 1, 4, 3, 1, 1534146602, 1535335692, '酒店端的配置', NULL, 0),
	(375, 32, 'requirement', 11, 100, 1, 1, 4, 3, 1, 1534146617, 1535335739, '订单的展示', NULL, 0),
	(376, 32, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1534146629, 1534472753, '订单的新的规则的计算', NULL, 0),
	(377, 32, 'requirement', 11, 100, 1, 1, 5, 3, 1, 1534146655, 1534474021, 'API在传入亚朵酒店下的信息时传入入住政策', NULL, 0),
	(378, 33, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1534383536, 1534383536, 'API-OTA渠道到申请不可见', NULL, 0),
	(379, 33, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1534383577, 1534383577, '设置api服务跟api渠道的中间关系', NULL, 0),
	(380, 33, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1534383796, 1534727918, '设计酒店开通api渠道的模型表', NULL, 0),
	(381, 33, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1534383834, 1534727927, '开通渠道直连', NULL, 0),
	(382, 30, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1534400454, 1534494173, '酒店可订产品查询', NULL, 0),
	(383, 34, 'requirement', 11, 100, 1, 1, 5, 3, 1, 1534754152, 1535702587, '酒店ID和name的同步，以及筛选酒店', NULL, 0),
	(384, 34, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1534754168, 1535597857, '匹配省市区', NULL, 0),
	(385, 34, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1534754178, 1535526079, '物理房型的匹配', NULL, 0),
	(386, 34, 'requirement', 11, 100, 1, 1, 5, 3, 1, 1535508356, 1535702691, '销售房型、价格计划的同步', NULL, 0),
	(388, 34, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1535526026, 1535702722, '试预订接口- preBook', NULL, 0),
	(389, 34, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1535526047, 1535702730, '新建订单接口 - createOrder', NULL, 0),
	(390, 34, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1535526070, 1535942050, '取消订单接口- cancelOrder', NULL, 0),
	(392, 34, 'requirement', 11, 100, 1, 1, 14, 3, 1, 1535595324, 1535703200, '查询单订单详情接口', NULL, 0),
	(393, 34, 'requirement', 11, 100, 1, 1, 14, 3, 1, 1535702678, 1536127685, '匹配中需要加一个数据无法匹配的状态', NULL, 0),
	(394, 34, 'requirement', 11, 100, 1, 1, 6, 3, 1, 1535703166, 1536127516, '谁来负责我们在房仓中的信用额度', NULL, 0),
	(395, 34, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1535703876, 1536204390, '定时任务未完成，酒店基本信息，物理房型，销售房型，库存，价格计划', NULL, 0),
	(396, 34, 'requirement', 11, 100, 1, 1, 5, NULL, 1, 1536127599, 1536128192, '访问房仓接口中的超时问题，库存，价格，销售房型都是同一个接口，下单也会调用', NULL, 0),
	(397, 34, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1536129450, 1536219575, '物理房型手工匹配后状态更新', NULL, 0),
	(398, 34, 'requirement', 11, 100, 1, 1, 14, 14, 1, 1536131398, 1536219610, '物理房型匹配需要体现出房仓删除物理房型', NULL, 0),
	(399, 34, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1536131616, 1536213037, '酒店基本信息增量接口需要查看物理房型匹配是否有变化', NULL, 0),
	(400, 34, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1536198651, 1536219673, '给价格计划添加早餐类型，后端开发', NULL, 0),
	(401, 35, 'requirement', 11, 100, 1, 1, 3, NULL, 1, 1537942657, 1537942657, '创建订单接口', NULL, 0),
	(402, 35, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1537942675, 1539339369, '取消订单', NULL, 0),
	(403, 35, 'requirement', 11, 100, 1, 1, 5, 5, 1, 1537942822, 1539339336, '房价和库存接口', NULL, 0),
	(404, 35, 'requirement', 11, 100, 1, 1, 14, NULL, 1, 1537942863, 1537942863, '房价开关接口', NULL, 0),
	(405, 36, 'requirement', 11, 100, 1, 1, 14, 3, 1, 1540180739, 1543979073, '售卖房型标签区分直营与供应商需求', NULL, 0),
	(406, 37, 'requirement', 11, 100, 1, 1, 3, 3, 1, 1540809094, 1542010522, '扫码登录开发', NULL, 0);
/*!40000 ALTER TABLE `gt_story` ENABLE KEYS */;

-- 导出  表 geetask.gt_story_acceptance 结构
CREATE TABLE IF NOT EXISTS `gt_story_acceptance` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `project_id` int(11) NOT NULL COMMENT '项目',
  `story_id` int(11) NOT NULL COMMENT '故事',
  `creator_id` int(11) NOT NULL COMMENT '处理人',
  `created_at` int(11) NOT NULL COMMENT '添加时间',
  `updated_at` int(11) DEFAULT NULL COMMENT '更新时间',
  `acceptance` varchar(128) DEFAULT NULL COMMENT '接受项',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='验收测试';

-- 正在导出表  geetask.gt_story_acceptance 的数据：~0 rows (大约)
/*!40000 ALTER TABLE `gt_story_acceptance` DISABLE KEYS */;
/*!40000 ALTER TABLE `gt_story_acceptance` ENABLE KEYS */;

-- 导出  表 geetask.gt_story_active 结构
CREATE TABLE IF NOT EXISTS `gt_story_active` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `project_id` int(11) NOT NULL DEFAULT '0' COMMENT '项目',
  `story_id` int(11) NOT NULL COMMENT '任务项',
  `old_user` int(11) NOT NULL COMMENT '旧处理人',
  `new_user` int(11) NOT NULL COMMENT '处理人',
  `old_status` varchar(32) NOT NULL COMMENT '旧状态',
  `new_status` varchar(32) NOT NULL COMMENT '状态',
  `creator_id` int(11) NOT NULL COMMENT '更新人',
  `created_at` int(11) DEFAULT NULL COMMENT '添加时间',
  `remark` varchar(128) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb4 COMMENT='任务活动';

-- 正在导出表  geetask.gt_story_active 的数据：~13 rows (大约)
/*!40000 ALTER TABLE `gt_story_active` DISABLE KEYS */;
INSERT INTO `gt_story_active` (`id`, `project_id`, `story_id`, `old_user`, `new_user`, `old_status`, `new_status`, `creator_id`, `created_at`, `remark`) VALUES
	(1, 0, 1, 1, 1, '5', '5', 1, 1543550177, '🥘应该完成了'),
	(2, 0, 1, 1, 1, '5', '6', 1, 1543550384, '😍台开心了'),
	(3, 0, 1, 1, 1, '6', '7', 1, 1543550486, '🙊你是猴子请来的救兵吗？'),
	(4, 0, 1, 1, 1, '7', '8', 1, 1543550653, '🏅给你发一个奖牌'),
	(5, 0, 1, 1, 1, '8', '9', 1, 1543550942, '👷🏻优先员工一枚'),
	(6, 0, 1, 1, 1, '9', '10', 1, 1543551684, '🎙让我们来一起嗨'),
	(7, 0, 1, 1, 1, '10', '11', 1, 1543551753, '🚀我们可以飞啦'),
	(8, 0, 1, 1, 1, '11', '11', 1, 1543552063, '🌻'),
	(9, 0, 405, 14, 14, '11', '11', 1, 1543978023, '🚀可以考虑在后台计算好读取缓存\r\n'),
	(10, 0, 405, 14, 14, '11', '11', 1, 1543978132, '🏅测试'),
	(11, 0, 405, 14, 14, '11', '11', 1, 1543978536, '测试'),
	(12, 0, 405, 14, 14, '11', '11', 1, 1543978947, '测试\r\n'),
	(13, 0, 405, 14, 14, '11', '11', 1, 1543979073, '测试\r\n');
/*!40000 ALTER TABLE `gt_story_active` ENABLE KEYS */;

-- 导出  表 geetask.gt_story_status 结构
CREATE TABLE IF NOT EXISTS `gt_story_status` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `is_backlog` tinyint(1) DEFAULT '0' COMMENT '产品Backlog',
  `name` varchar(64) NOT NULL COMMENT '名称',
  `description` varchar(255) DEFAULT NULL COMMENT '说明',
  `sort` int(11) DEFAULT NULL COMMENT '排序',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COMMENT='故事状态';

-- 正在导出表  geetask.gt_story_status 的数据：~11 rows (大约)
/*!40000 ALTER TABLE `gt_story_status` DISABLE KEYS */;
INSERT INTO `gt_story_status` (`id`, `is_backlog`, `name`, `description`, `sort`) VALUES
	(1, 1, '待评估', '产品负责人添加新的故事默认状态', 1000),
	(2, 1, '已评估', '故事已经更开发人员沟通评估等待迭代', 900),
	(3, 1, '作废', '评估失败', 0),
	(4, 0, '启动', '任务已经分配待开发，待开发人员再跟产品经理确认需求', 800),
	(5, 0, '确认', '开发者已跟产品经理确认需求一致，待开发', 700),
	(6, 0, '开发中', '开发者进行编码或者设计', 650),
	(7, 0, '开发完', '编码完成，跟产品经理再次确认完成的结果一致', 600),
	(8, 0, '测试中', '测试人员进行测试，并确认需求一致', 550),
	(9, 0, '测试完', '测试人员完成测试，待通知产品验收', 500),
	(10, 0, '验收', '产品经理验收', 450),
	(11, 0, '完成', '结束任务项待发布', 400);
/*!40000 ALTER TABLE `gt_story_status` ENABLE KEYS */;

-- 导出  表 geetask.gt_timeline 结构
CREATE TABLE IF NOT EXISTS `gt_timeline` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `project_id` int(11) NOT NULL COMMENT '项目',
  `title` date NOT NULL COMMENT '名称',
  `description` varchar(255) DEFAULT NULL COMMENT '说明',
  PRIMARY KEY (`id`),
  UNIQUE KEY `title` (`project_id`,`title`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COMMENT='时间线';

-- 正在导出表  geetask.gt_timeline 的数据：~6 rows (大约)
/*!40000 ALTER TABLE `gt_timeline` DISABLE KEYS */;
INSERT INTO `gt_timeline` (`id`, `project_id`, `title`, `description`) VALUES
	(1, 1, '2018-11-28', '支持微信支付'),
	(2, 1, '2018-11-30', '支持支付宝'),
	(3, 1, '2018-12-01', '发布上线2.0'),
	(4, 1, '2018-12-09', '支持微信登录👷🏻🤖'),
	(5, 1, '2018-12-13', '支持供应商🏅'),
	(6, 1, '2018-12-30', '🚁我们可以飞了');
/*!40000 ALTER TABLE `gt_timeline` ENABLE KEYS */;

-- 导出  表 geetask.gt_user 结构
CREATE TABLE IF NOT EXISTS `gt_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(32) NOT NULL COMMENT '用户名',
  `nick_name` varchar(32) DEFAULT NULL COMMENT '姓名',
  `auth_key` varchar(32) NOT NULL,
  `password_hash` varchar(64) NOT NULL,
  `password_reset_token` varchar(64) DEFAULT NULL,
  `email` varchar(64) NOT NULL COMMENT '邮箱',
  `mobile` varchar(32) NOT NULL COMMENT '手机',
  `status` smallint(6) NOT NULL DEFAULT '10' COMMENT '状态',
  `is_admin` tinyint(1) DEFAULT NULL COMMENT '管理员',
  `is_super` tinyint(1) DEFAULT NULL COMMENT '超管',
  `def_project` int(11) DEFAULT NULL COMMENT '默认项目',
  `created_at` int(11) NOT NULL COMMENT '添加时间',
  `updated_at` int(11) NOT NULL COMMENT '更新时间',
  `role` varchar(64) DEFAULT NULL COMMENT '角色',
  `is_del` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`),
  UNIQUE KEY `email` (`email`),
  UNIQUE KEY `password_reset_token` (`password_reset_token`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8mb4 COMMENT='用户';

-- 正在导出表  geetask.gt_user 的数据：~16 rows (大约)
/*!40000 ALTER TABLE `gt_user` DISABLE KEYS */;
INSERT INTO `gt_user` (`id`, `username`, `nick_name`, `auth_key`, `password_hash`, `password_reset_token`, `email`, `mobile`, `status`, `is_admin`, `is_super`, `def_project`, `created_at`, `updated_at`, `role`, `is_del`) VALUES
	(1, 'admin', '管理员', 'dFIfQutSickXRaQXsZSCPB1LAJZ6FnbA', '$2y$13$m5Z6Ruhoi3NIVaCCdnhuvO4tS9SEeMOFEIWy4UXAw39qqPJaRVzTu', NULL, 'dungang@126.com', '', 10, 1, 1, 1, 1543204772, 1543460613, '部门负责人', 0),
	(2, '610004', '顿刚', '_wG1B_mUJosqiQK4lL6SXHWDfSe68N6G', '$2y$13$ve/x8cwm45iVXKJJEnn7ZeKnjSrAvhRbqa11T3oIRWYzcEtyvBRBu', NULL, 'gang.dun@ndabooking.com', '15355498106', 10, NULL, NULL, 1, 1527487851, 1543587648, '管理员1', 0),
	(3, '610012', '钱攀', 'BcSjuF9Ab3JYXaUb89tWCLDt_1Y4Zb67', '$2y$13$5pCRX9nz1YYLl2lI/FH89ewuO/5qNaPHgLZZkjTKc.IVGrcgH5HSm', NULL, 'pan.qian@ndabooking.com', '13588152377', 10, NULL, NULL, 1, 1527734840, 1528075748, NULL, 0),
	(4, '610006', '陈政', 't6EnSjGi4bKdQZ_JqqjrcYqRMbwO86YQ', '$2y$13$N6F30j9aVqaBBiOVisVDNudM0Rlx3U1DLwg40dTLlzzBVQ9G3bc/m', NULL, 'zheng.chen@ndabooking.com', '13067988513', 10, NULL, NULL, 1, 1527734883, 1528074496, NULL, 0),
	(5, '610008', '俞栋炜', 'AYe3JqfTbfi419UoVbMgoA8MJngUorxu', '$2y$13$Uzcm2i4FQ/fZyX9CentGUemFTcHvVUqTI9ES/N/ywiKiH499kxvOS', NULL, 'dongwei.yu@ndabooking.com', '17764509752', 10, NULL, NULL, 1, 1527734920, 1528075362, NULL, 0),
	(6, '610005', '缪灵健', 'SthEtoBhkBgCSkYW6oP7_KmKplWXkvkd', '$2y$13$N.OxI0CHXhku3yojPzymo.ic4Csx5Jv3DY5UAT3YMseAZ2JUvO63u', NULL, 'lingjian.miao@ndabooking.com', '18968406753', 10, NULL, NULL, 1, 1527734971, 1528074850, NULL, 0),
	(7, '610010', '赵金桥', 'JRYT4jczqOe77IPYUg5ATfJjyKDrW0Wn', '$2y$13$lYsGN6CFpqG58Vq5xUAxV.dnrEvoGFbbZT4RmS3qfU0VNJas/5/rC', NULL, 'jinqiao.zhao@ndabooking.com', '15669947317', 0, NULL, NULL, 1, 1527735099, 1534384485, NULL, 0),
	(8, '610014', '管志伟', 'FPNUHAKtCRhFg1YheVxCOsu2P73N6KvV', '$2y$13$z4le5107ouKNR4gXB.ZXNOybpBv0ohptx1jerNyax/U05feHj9Dvu', NULL, 'zhiwei.guan@ndabooking.com', '15658822689', 0, NULL, NULL, 1, 1527737255, 1534384439, NULL, 0),
	(9, '610015', '陈铭', 'nneJApsJMPBh1K2fJvtbK3dmpF1t6Z_T', '$2y$13$K5Srw92KGBXkZQ1DlbhFv.MFcBCINsmGp3a4Hcbu47WqrJPjiVhhO', NULL, 'ming.chen@ndabooking.com', '15869114413', 0, NULL, NULL, 1, 1527737291, 1534384494, NULL, 0),
	(10, '610016', '刘丽苹', 'G7_n8zJ1igGLFJmeI_cDwhsLpNzgmJsi', '$2y$13$RKipNgHKC9p7BQlwylEiROMaR4ed16VnzITSijTgrKOvNyK0wnty2', NULL, 'liping.liu@ndabooking.com', '13282172034', 0, NULL, NULL, 1, 1527737325, 1534384474, NULL, 0),
	(11, '610013', '章秀蓉', 'wFiXPnxA6zFCg1y6_B6Crq-SEpWgwXu2', '$2y$13$MbGy1c7NV2cKF6W0OsT6puvDDrPALtqtX2frvJcPcITr1N3zy4LqC', NULL, 'xiurong.zhang@ndabooking.com', '13777576172', 10, NULL, NULL, 1, 1527737361, 1538963511, NULL, 0),
	(12, '610009', '施振国', 'ZOOsgGUWR69UaV4pbhLw9TFXlteI9w-6', '$2y$13$GkMn1nQLUVw9/IA2c/9ozuQyR6KZLbVyRRO9DA9l3QgQxNt9ctIS.', NULL, 'zhenguo.shi@ndabooking.com', '15757151402', 10, NULL, NULL, 1, 1527737472, 1528277397, NULL, 0),
	(13, '610018', '陈波涛', 'S8o3giGrEyjBF_THay0kpCNDNNDx_8aA', '$2y$13$FEJH/786uT6kqDQfAniZxOr7Rkq3Fi6pW6V7MBpQHxbvAH/cH.K/6', NULL, 'botao.chen@ndabooking.com', '13588202612', 0, NULL, NULL, 1, 1527737509, 1534384450, NULL, 0),
	(14, '610020', '章宇飞', 'mN7bBEzshhLeoXLYOV5VusHENe8S3rOP', '$2y$13$2Wxl7BSydXskBtMmT23uZOco0GMx7RaCZ.IsYGdjZZVRz0BG/UyQG', NULL, 'yufei.zhang@ndabooking.com', '15257137254', 10, NULL, NULL, 1, 1527737547, 1528074198, NULL, 0),
	(15, '610003', '张高鹏', 'A7N7I4bRfVeD-UffDBZPxHRgcvmQiiax', '$2y$13$R/QxKaxR30OsTKIKypTAQuFnq8exTw9/WqyTNaR5Fe8/JWkOcwZo.', NULL, 'gaopeng.zhang@ndabooking.com', '13666637694', 10, NULL, NULL, 1, 1528091935, 1528091935, NULL, 0),
	(16, '610022', '梁其滢', 'CpFHq5XSWTMkN69Z7LLFoUdZvvur5uFL', '$2y$13$YKmD8X6hsalC/1.2YoCkjOetGSUfTcVoDOB4fTNAeO0nNFOYQxNPS', NULL, 'qiying.liang@ndabooking.com', '15384050332', 0, NULL, NULL, 1, 1528092136, 1534384460, NULL, 0);
/*!40000 ALTER TABLE `gt_user` ENABLE KEYS */;

/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IF(@OLD_FOREIGN_KEY_CHECKS IS NULL, 1, @OLD_FOREIGN_KEY_CHECKS) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
